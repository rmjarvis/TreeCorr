<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Two-point Correlation Functions &mdash; TreeCorr 5.1.2 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="NNCorrelation: Count-count correlations" href="nn.html" />
    <link rel="prev" title="Input Data" href="catalog.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            TreeCorr
          </a>
              <div class="version">
                5.1
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="catalog.html">Input Data</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Two-point Correlation Functions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="nn.html">NNCorrelation: Count-count correlations</a></li>
<li class="toctree-l2"><a class="reference internal" href="nk.html">NKCorrelation: Count-scalar correlations</a></li>
<li class="toctree-l2"><a class="reference internal" href="kk.html">KKCorrelation: Scalar-scalar correlations</a></li>
<li class="toctree-l2"><a class="reference internal" href="nz.html">NZCorrelation: Count-complex correlations</a></li>
<li class="toctree-l2"><a class="reference internal" href="kz.html">KZCorrelation: Scalar-complex correlations</a></li>
<li class="toctree-l2"><a class="reference internal" href="zz.html">ZZCorrelation: Complex-complex correlations</a></li>
<li class="toctree-l2"><a class="reference internal" href="nv.html">NVCorrelation: Count-vector correlations</a></li>
<li class="toctree-l2"><a class="reference internal" href="kv.html">KVCorrelation: Scalar-vector correlations</a></li>
<li class="toctree-l2"><a class="reference internal" href="vv.html">VVCorrelation: Vector-vector correlations</a></li>
<li class="toctree-l2"><a class="reference internal" href="ng.html">NGCorrelation: Count-shear correlations</a></li>
<li class="toctree-l2"><a class="reference internal" href="kg.html">KGCorrelation: Scalar-shear correlations</a></li>
<li class="toctree-l2"><a class="reference internal" href="gg.html">GGCorrelation: Shear-shear correlations</a></li>
<li class="toctree-l2"><a class="reference internal" href="nt.html">NTCorrelation: Count-trefoil correlations</a></li>
<li class="toctree-l2"><a class="reference internal" href="kt.html">KTCorrelation: Scalar-trefoil correlations</a></li>
<li class="toctree-l2"><a class="reference internal" href="tt.html">TTCorrelation: Trefoil-trefoil correlations</a></li>
<li class="toctree-l2"><a class="reference internal" href="nq.html">NQCorrelation: Count-quatrefoil correlations</a></li>
<li class="toctree-l2"><a class="reference internal" href="kq.html">KQCorrelation: Scalar-quatrefoil correlations</a></li>
<li class="toctree-l2"><a class="reference internal" href="qq.html">QQCorrelation: Quatrefoil-quatrefoil correlations</a></li>
<li class="toctree-l2"><a class="reference internal" href="#treecorr.Corr2"><code class="docutils literal notranslate"><span class="pre">Corr2</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#treecorr.Corr2.build_cov_design_matrix"><code class="docutils literal notranslate"><span class="pre">Corr2.build_cov_design_matrix()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#treecorr.Corr2.clear"><code class="docutils literal notranslate"><span class="pre">Corr2.clear()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#treecorr.Corr2.copy"><code class="docutils literal notranslate"><span class="pre">Corr2.copy()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#treecorr.Corr2.cov"><code class="docutils literal notranslate"><span class="pre">Corr2.cov</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#treecorr.Corr2.cov_diag"><code class="docutils literal notranslate"><span class="pre">Corr2.cov_diag</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#treecorr.Corr2.estimate_cov"><code class="docutils literal notranslate"><span class="pre">Corr2.estimate_cov()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#treecorr.Corr2.from_file"><code class="docutils literal notranslate"><span class="pre">Corr2.from_file()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#treecorr.Corr2.getStat"><code class="docutils literal notranslate"><span class="pre">Corr2.getStat()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#treecorr.Corr2.getWeight"><code class="docutils literal notranslate"><span class="pre">Corr2.getWeight()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#treecorr.Corr2.nonzero"><code class="docutils literal notranslate"><span class="pre">Corr2.nonzero</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#treecorr.Corr2.process"><code class="docutils literal notranslate"><span class="pre">Corr2.process()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#treecorr.Corr2.process_auto"><code class="docutils literal notranslate"><span class="pre">Corr2.process_auto()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#treecorr.Corr2.process_cross"><code class="docutils literal notranslate"><span class="pre">Corr2.process_cross()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#treecorr.Corr2.read"><code class="docutils literal notranslate"><span class="pre">Corr2.read()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#treecorr.Corr2.sample_pairs"><code class="docutils literal notranslate"><span class="pre">Corr2.sample_pairs()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#treecorr.estimate_multi_cov"><code class="docutils literal notranslate"><span class="pre">estimate_multi_cov()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#treecorr.build_multi_cov_design_matrix"><code class="docutils literal notranslate"><span class="pre">build_multi_cov_design_matrix()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#treecorr.set_max_omp_threads"><code class="docutils literal notranslate"><span class="pre">set_max_omp_threads()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#treecorr.set_omp_threads"><code class="docutils literal notranslate"><span class="pre">set_omp_threads()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#treecorr.get_omp_threads"><code class="docutils literal notranslate"><span class="pre">get_omp_threads()</span></code></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="correlation3.html">Three-point Correlation Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="metric.html">Metrics</a></li>
<li class="toctree-l1"><a class="reference internal" href="binning.html">Binning</a></li>
<li class="toctree-l1"><a class="reference internal" href="binning3pt.html">Binning for three-point correlations</a></li>
<li class="toctree-l1"><a class="reference internal" href="shear.html">Shear Conventions</a></li>
<li class="toctree-l1"><a class="reference internal" href="patches.html">Patches</a></li>
<li class="toctree-l1"><a class="reference internal" href="cov.html">Covariance Estimates</a></li>
<li class="toctree-l1"><a class="reference internal" href="field.html">Fields</a></li>
<li class="toctree-l1"><a class="reference internal" href="scripts.html">Using configuration files</a></li>
<li class="toctree-l1"><a class="reference internal" href="guide.html">Getting Started Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="changes.html">Changes from version 5.0 to 5.1</a></li>
<li class="toctree-l1"><a class="reference internal" href="history.html">Previous History</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">TreeCorr</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Two-point Correlation Functions</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/correlation2.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="two-point-correlation-functions">
<h1>Two-point Correlation Functions<a class="headerlink" href="#two-point-correlation-functions" title="Permalink to this heading"></a></h1>
<p>TreeCorr can compute two-point correlations for several different kinds of fields.
For notational brevity in the various classes involved, we use a single letter
to represent each kind of field as follows:</p>
<ul class="simple">
<li><p>N represents simple counting statistics.  The underlying field is a density of objects,
which is manifested by objects appearing at specific locations.  The assumption here is
that the probability of an object occurring at a specific location is proportional to the
underlying density field at that spot.</p></li>
<li><p>K represents a real, scalar field.  Nominally, K is short for “kappa”, since TreeCorr was
originally written for weak lensing applications, and kappa is the name of the weak lensing
convergence, a measure of the projected matter density along the line of sight.</p></li>
<li><p>Z represents a complex, spin-0 scalar field.  This is mostly for API consistency,
since we have several other complex fields with different spin properties.  Spin-0 fields
don’t change their complex value when the orientation changes.</p></li>
<li><p>V represents a complex, spin-1 vector field.  Spin-1 means that the complex value changes
by <span class="math notranslate nohighlight">\(\exp(i \phi)\)</span> when the orientation is rotated by an angle <span class="math notranslate nohighlight">\(\phi\)</span>.  This kind
of field is appropriate for normal vectors with direction, like velocity fields.</p></li>
<li><p>G represents a complex, spin-2 shear field.  Spin-2 means that the complex value changes
by <span class="math notranslate nohighlight">\(\exp(2i \phi)\)</span> when the orientation is rotated by an angle <span class="math notranslate nohighlight">\(\phi\)</span>.  The letter
g is commonly used for reduced shear in the weak lensing context (and <span class="math notranslate nohighlight">\(\gamma\)</span> is the
unreduced shear), which is a spin-2 field, hence our use of G for spin-2 fields in Treecorr.</p></li>
<li><p>T represents a complex, spin-3 field.  Spin-3 means that the complex value changes
by <span class="math notranslate nohighlight">\(\exp(3i \phi)\)</span> when the orientation is rotated by an angle <span class="math notranslate nohighlight">\(\phi\)</span>.  The letter
T is short for trefoil, a shape with spin-3 rotational properties.</p></li>
<li><p>Q represents a complex, spin-4 field.  Spin-4 means that the complex value changes
by <span class="math notranslate nohighlight">\(\exp(4i \phi)\)</span> when the orientation is rotated by an angle <span class="math notranslate nohighlight">\(\phi\)</span>.  The letter
Q is short for quatrefoil, a shape with spin-4 rotational properties.</p></li>
</ul>
<p>Not all possible pairings of two fields are currently implemented.  The following lists
all the currently implemented classes for computing two-point correlations.  If you have need
of a pairing not listed here, please file in issue asking for it.  It’s not hard to add more,
but I didn’t want to implement a bunch of classes that no one will use.</p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="nn.html">NNCorrelation: Count-count correlations</a></li>
<li class="toctree-l1"><a class="reference internal" href="nk.html">NKCorrelation: Count-scalar correlations</a></li>
<li class="toctree-l1"><a class="reference internal" href="kk.html">KKCorrelation: Scalar-scalar correlations</a></li>
<li class="toctree-l1"><a class="reference internal" href="nz.html">NZCorrelation: Count-complex correlations</a></li>
<li class="toctree-l1"><a class="reference internal" href="kz.html">KZCorrelation: Scalar-complex correlations</a></li>
<li class="toctree-l1"><a class="reference internal" href="zz.html">ZZCorrelation: Complex-complex correlations</a></li>
<li class="toctree-l1"><a class="reference internal" href="nv.html">NVCorrelation: Count-vector correlations</a></li>
<li class="toctree-l1"><a class="reference internal" href="kv.html">KVCorrelation: Scalar-vector correlations</a></li>
<li class="toctree-l1"><a class="reference internal" href="vv.html">VVCorrelation: Vector-vector correlations</a></li>
<li class="toctree-l1"><a class="reference internal" href="ng.html">NGCorrelation: Count-shear correlations</a></li>
<li class="toctree-l1"><a class="reference internal" href="kg.html">KGCorrelation: Scalar-shear correlations</a></li>
<li class="toctree-l1"><a class="reference internal" href="gg.html">GGCorrelation: Shear-shear correlations</a></li>
<li class="toctree-l1"><a class="reference internal" href="nt.html">NTCorrelation: Count-trefoil correlations</a></li>
<li class="toctree-l1"><a class="reference internal" href="kt.html">KTCorrelation: Scalar-trefoil correlations</a></li>
<li class="toctree-l1"><a class="reference internal" href="tt.html">TTCorrelation: Trefoil-trefoil correlations</a></li>
<li class="toctree-l1"><a class="reference internal" href="nq.html">NQCorrelation: Count-quatrefoil correlations</a></li>
<li class="toctree-l1"><a class="reference internal" href="kq.html">KQCorrelation: Scalar-quatrefoil correlations</a></li>
<li class="toctree-l1"><a class="reference internal" href="qq.html">QQCorrelation: Quatrefoil-quatrefoil correlations</a></li>
</ul>
</div>
<p>Each of the above classes is a sub-class of the base class Corr2, so they have a number of
features in common about how they are constructed.  The common features are documented here.</p>
<dl class="py class">
<dt class="sig sig-object py" id="treecorr.Corr2">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">treecorr.</span></span><span class="sig-name descname"><span class="pre">Corr2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rng</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/treecorr/corr2base.html#Corr2"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#treecorr.Corr2" title="Permalink to this definition"></a></dt>
<dd><p>This class stores the results of a 2-point correlation calculation, along with some
ancillary data.</p>
<p>This is a base class that is not intended to be constructed directly.  But it has a few
helper functions that derived classes can use to help perform their calculations.  See
the derived classes for more details:</p>
<ul class="simple">
<li><p><a class="reference internal" href="nn.html#treecorr.NNCorrelation" title="treecorr.NNCorrelation"><code class="xref any py py-class docutils literal notranslate"><span class="pre">NNCorrelation</span></code></a> handles count-count correlation functions</p></li>
<li><p><a class="reference internal" href="nk.html#treecorr.NKCorrelation" title="treecorr.NKCorrelation"><code class="xref any py py-class docutils literal notranslate"><span class="pre">NKCorrelation</span></code></a> handles count-scalar correlation functions</p></li>
<li><p><a class="reference internal" href="kk.html#treecorr.KKCorrelation" title="treecorr.KKCorrelation"><code class="xref any py py-class docutils literal notranslate"><span class="pre">KKCorrelation</span></code></a> handles scalar-scalar correlation functions</p></li>
<li><p><a class="reference internal" href="nz.html#treecorr.NZCorrelation" title="treecorr.NZCorrelation"><code class="xref any py py-class docutils literal notranslate"><span class="pre">NZCorrelation</span></code></a> handles count-complex correlation functions</p></li>
<li><p><a class="reference internal" href="kz.html#treecorr.KZCorrelation" title="treecorr.KZCorrelation"><code class="xref any py py-class docutils literal notranslate"><span class="pre">KZCorrelation</span></code></a> handles scalar-complex correlation functions</p></li>
<li><p><a class="reference internal" href="zz.html#treecorr.ZZCorrelation" title="treecorr.ZZCorrelation"><code class="xref any py py-class docutils literal notranslate"><span class="pre">ZZCorrelation</span></code></a> handles complex-complex correlation functions</p></li>
<li><p><a class="reference internal" href="nv.html#treecorr.NVCorrelation" title="treecorr.NVCorrelation"><code class="xref any py py-class docutils literal notranslate"><span class="pre">NVCorrelation</span></code></a> handles count-vector correlation functions</p></li>
<li><p><a class="reference internal" href="kv.html#treecorr.KVCorrelation" title="treecorr.KVCorrelation"><code class="xref any py py-class docutils literal notranslate"><span class="pre">KVCorrelation</span></code></a> handles scalar-vector correlation functions</p></li>
<li><p><a class="reference internal" href="vv.html#treecorr.VVCorrelation" title="treecorr.VVCorrelation"><code class="xref any py py-class docutils literal notranslate"><span class="pre">VVCorrelation</span></code></a> handles vector-vector correlation functions</p></li>
<li><p><a class="reference internal" href="ng.html#treecorr.NGCorrelation" title="treecorr.NGCorrelation"><code class="xref any py py-class docutils literal notranslate"><span class="pre">NGCorrelation</span></code></a> handles count-shear correlation functions</p></li>
<li><p><a class="reference internal" href="kg.html#treecorr.KGCorrelation" title="treecorr.KGCorrelation"><code class="xref any py py-class docutils literal notranslate"><span class="pre">KGCorrelation</span></code></a> handles scalar-shear correlation functions</p></li>
<li><p><a class="reference internal" href="gg.html#treecorr.GGCorrelation" title="treecorr.GGCorrelation"><code class="xref any py py-class docutils literal notranslate"><span class="pre">GGCorrelation</span></code></a> handles shear-shear correlation functions</p></li>
<li><p><a class="reference internal" href="nt.html#treecorr.NTCorrelation" title="treecorr.NTCorrelation"><code class="xref any py py-class docutils literal notranslate"><span class="pre">NTCorrelation</span></code></a> handles count-trefoil correlation functions</p></li>
<li><p><a class="reference internal" href="kt.html#treecorr.KTCorrelation" title="treecorr.KTCorrelation"><code class="xref any py py-class docutils literal notranslate"><span class="pre">KTCorrelation</span></code></a> handles scalar-trefoil correlation functions</p></li>
<li><p><a class="reference internal" href="tt.html#treecorr.TTCorrelation" title="treecorr.TTCorrelation"><code class="xref any py py-class docutils literal notranslate"><span class="pre">TTCorrelation</span></code></a> handles trefoil-trefoil correlation functions</p></li>
<li><p><a class="reference internal" href="nq.html#treecorr.NQCorrelation" title="treecorr.NQCorrelation"><code class="xref any py py-class docutils literal notranslate"><span class="pre">NQCorrelation</span></code></a> handles count-quatrefoil correlation functions</p></li>
<li><p><a class="reference internal" href="kq.html#treecorr.KQCorrelation" title="treecorr.KQCorrelation"><code class="xref any py py-class docutils literal notranslate"><span class="pre">KQCorrelation</span></code></a> handles scalar-quatrefoil correlation functions</p></li>
<li><p><a class="reference internal" href="qq.html#treecorr.QQCorrelation" title="treecorr.QQCorrelation"><code class="xref any py py-class docutils literal notranslate"><span class="pre">QQCorrelation</span></code></a> handles quatrefoil-quatrefoil correlation functions</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>TreeCorr was originally designed for weak lensing applications, so the K letter for
scalar quantities nominally refers to the weak lesing kappa field.
But in fact any scalar quantity may be used here.
(CMB temperature fluctuations for example.)</p>
</div>
<p>The constructor for all derived classes take a config dict as the first argument,
since this is often how we keep track of parameters, but if you don’t want to
use one or if you want to change some parameters from what are in a config dict,
then you can use normal kwargs, which take precedence over anything in the config dict.</p>
<p>There are a number of possible definitions for the distance between two points, which
are appropriate for different use cases.  These are specified by the <code class="docutils literal notranslate"><span class="pre">metric</span></code> parameter.
The possible options are:</p>
<blockquote>
<div><ul class="simple">
<li><p>‘Euclidean’ = straight line Euclidean distance between two points.  For spherical
coordinates (ra,dec without r), this is the chord distance between points on the
unit sphere.</p></li>
<li><p>‘FisherRperp’ = the perpendicular component of the distance, following the
definitions in Fisher et al, 1994 (MNRAS, 267, 927).</p></li>
<li><p>‘OldRperp’ = the perpendicular component of the distance using the definition
of Rperp from TreeCorr v3.x.</p></li>
<li><p>‘Rperp’ = an alias for FisherRperp.  You can change it to be an alias for
OldRperp if you want by setting <code class="docutils literal notranslate"><span class="pre">treecorr.Rperp_alias</span> <span class="pre">=</span> <span class="pre">'OldRperp'</span></code> before
using it.</p></li>
<li><p>‘Rlens’ = the distance from the first object (taken to be a lens) to the line
connecting Earth and the second object (taken to be a lensed source).</p></li>
<li><p>‘Arc’ = the true great circle distance for spherical coordinates.</p></li>
<li><p>‘Periodic’ = Like Euclidean, but with periodic boundaries.</p></li>
</ul>
</div></blockquote>
<p>See <a class="reference internal" href="metric.html#metrics"><span class="std std-ref">Metrics</span></a> for more information about these various metric options.</p>
<p>There are also a few different possibile binning prescriptions to define the range of
distances, which should be placed into each bin.</p>
<blockquote>
<div><ul class="simple">
<li><p>‘Log’ - logarithmic binning in the distance.  The bin steps will be uniform in
log(r) from log(min_sep) .. log(max_sep).</p></li>
<li><p>‘Linear’ - linear binning in the distance.  The bin steps will be uniform in r
from min_sep .. max_sep.</p></li>
<li><p>‘TwoD’ = 2-dimensional binning from x = (-max_sep .. max_sep) and
y = (-max_sep .. max_sep).  The bin steps will be uniform in both x and y.
(i.e. linear in x,y)</p></li>
</ul>
</div></blockquote>
<p>See <a class="reference internal" href="binning.html#binning"><span class="std std-ref">Binning</span></a> for more information about the different binning options.</p>
<p>Objects of any <a class="reference internal" href="#treecorr.Corr2" title="treecorr.Corr2"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Corr2</span></code></a> subclass hold the following attributes:</p>
<dl class="field-list simple">
<dt class="field-odd">Attributes<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nbins</strong> – The number of bins in logr</p></li>
<li><p><strong>bin_size</strong> – The size of the bins in logr</p></li>
<li><p><strong>min_sep</strong> – The minimum separation being considered</p></li>
<li><p><strong>max_sep</strong> – The maximum separation being considered</p></li>
</ul>
</dd>
</dl>
<p>In addition, the following attributes are numpy arrays of length (nbins):</p>
<dl class="field-list simple">
<dt class="field-odd">Attributes<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>logr</strong> – The nominal center of the bin in log(r) (the natural logarithm of r).</p></li>
<li><p><strong>rnom</strong> – The nominal center of the bin converted to regular distance.
i.e. r = exp(logr).</p></li>
<li><p><strong>meanr</strong> – The (weighted) mean value of r for the pairs in each bin.
If there are no pairs in a bin, then exp(logr) will be used instead.</p></li>
<li><p><strong>meanlogr</strong> – The mean value of log(r) for the pairs in each bin.
If there are no pairs in a bin, then logr will be used instead.</p></li>
<li><p><strong>weight</strong> – The total weight in each bin.</p></li>
<li><p><strong>npairs</strong> – The number of pairs going into each bin (including pairs where one or
both objects have w=0).</p></li>
</ul>
</dd>
</dl>
<p>If <code class="docutils literal notranslate"><span class="pre">sep_units</span></code> are given (either in the config dict or as a named kwarg) then the distances
will all be in these units.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you separate out the steps of the <a class="reference internal" href="#treecorr.Corr2.process" title="treecorr.Corr2.process"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">process</span></code></a> command and use <a class="reference internal" href="#treecorr.Corr2.process_auto" title="treecorr.Corr2.process_auto"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">process_auto</span></code></a>
and/or <a class="reference internal" href="#treecorr.Corr2.process_cross" title="treecorr.Corr2.process_cross"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">process_cross</span></code></a>, then the units will not be applied to <code class="docutils literal notranslate"><span class="pre">meanr</span></code> or
<code class="docutils literal notranslate"><span class="pre">meanlogr</span></code> until the <code class="docutils literal notranslate"><span class="pre">finalize</span></code> function is called.</p>
<p>Also, if you use the <code class="docutils literal notranslate"><span class="pre">corr_only=True</span></code> option to <a class="reference internal" href="#treecorr.Corr2.process" title="treecorr.Corr2.process"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">Corr2.process</span></code></a>, then
<code class="docutils literal notranslate"><span class="pre">meanr</span></code> and <code class="docutils literal notranslate"><span class="pre">meanlogr</span></code> are not computed, so they will be set to the
nominal values for the bins.  Similarly, <code class="docutils literal notranslate"><span class="pre">npairs</span></code> will be set to the <code class="docutils literal notranslate"><span class="pre">weight</span></code>
for each bin divided by the mean weight of points in the catalog, rather than the
actual number of pairs for each bin.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>config</strong> (<em>dict</em>) – A configuration dict that can be used to pass in the below kwargs if
desired.  This dict is allowed to have addition entries in addition
to those listed below, which are ignored here. (default: None)</p></li>
<li><p><strong>logger</strong> – If desired, a logger object for logging. (default: None, in which case
one will be built according to the config dict’s verbose level.)</p></li>
</ul>
</dd>
<dt class="field-even">Keyword Arguments<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>nbins</strong> (<em>int</em>) – How many bins to use. (Exactly three of nbins, bin_size, min_sep,
max_sep are required. If nbins is not given or set to None, it will be
calculated from the values of the other three, rounding up to the next
highest integer. In this case, bin_size will be readjusted to account
for this rounding up.)</p></li>
<li><p><strong>bin_size</strong> (<em>float</em>) – The width of the bins in log(separation). (Exactly three of nbins,
bin_size, min_sep, max_sep are required.  If bin_size is not given or
set to None, it will be calculated from the values of the other three.)</p></li>
<li><p><strong>min_sep</strong> (<em>float</em>) – The minimum separation in units of sep_units, if relevant. (Exactly
three of nbins, bin_size, min_sep, max_sep are required.  If min_sep is
not given or set to None, it will be calculated from the values of the
other three.)</p></li>
<li><p><strong>max_sep</strong> (<em>float</em>) – The maximum separation in units of sep_units, if relevant. (Exactly
three of nbins, bin_size, min_sep, max_sep are required.  If max_sep is
not given or set to None, it will be calculated from the values of the
other three.)</p></li>
<li><p><strong>sep_units</strong> (<em>str</em>) – The units to use for the separation values, given as a string.  This
includes both min_sep and max_sep above, as well as the units of the
output distance values.  Valid options are arcsec, arcmin, degrees,
hours, radians.  (default: radians if angular units make sense, but for
3-d or flat 2-d positions, the default will just match the units of
x,y[,z] coordinates)</p></li>
<li><p><strong>bin_slop</strong> (<em>float</em>) – How much slop to allow in the placement of pairs in the bins.
If bin_slop = 1, then the bin into which a particular pair is placed
may be incorrect by at most 1.0 bin widths.  (default: None, which
means to use a bin_slop that gives a maximum error of 10% on any bin,
which has been found to yield good results for most application.</p></li>
<li><p><strong>angle_slop</strong> (<em>float</em>) – How much slop to allow in the angular direction. This works very
similarly to bin_slop, but applies to the projection angle of a pair
of cells. The projection angle for any two objects in a pair of cells
will differ by no more than angle_slop radians from the projection
angle defined by the centers of the cells. (default: 0.1)</p></li>
<li><p><strong>brute</strong> (<em>bool</em>) – <p>Whether to use the “brute force” algorithm.  (default: False) Options
are:</p>
<blockquote>
<div><ul>
<li><p>False (the default): Stop at non-leaf cells whenever the error in
the separation is compatible with the given bin_slop and angle_slop.</p></li>
<li><p>True: Go to the leaves for both catalogs.</p></li>
<li><p>1: Always go to the leaves for cat1, but stop at non-leaf cells of
cat2 when the error is compatible with the given slop values.</p></li>
<li><p>2: Always go to the leaves for cat2, but stop at non-leaf cells of
cat1 when the error is compatible with the given slop values.</p></li>
</ul>
</div></blockquote>
</p></li>
<li><p><strong>verbose</strong> (<em>int</em>) – <p>If no logger is provided, this will optionally specify a logging level
to use:</p>
<blockquote>
<div><ul>
<li><p>0 means no logging output</p></li>
<li><p>1 means to output warnings only (default)</p></li>
<li><p>2 means to output various progress information</p></li>
<li><p>3 means to output extensive debugging information</p></li>
</ul>
</div></blockquote>
</p></li>
<li><p><strong>log_file</strong> (<em>str</em>) – If no logger is provided, this will specify a file to write the logging
output.  (default: None; i.e. output to standard output)</p></li>
<li><p><strong>output_dots</strong> (<em>bool</em>) – Whether to output progress dots during the calcualtion of the
correlation function. (default: False unless verbose is given and &gt;= 2,
in which case True)</p></li>
<li><p><strong>split_method</strong> (<em>str</em>) – <p>How to split the cells in the tree when building the tree structure.
Options are:</p>
<ul>
<li><p>mean = Use the arithmetic mean of the coordinate being split.
(default)</p></li>
<li><p>median = Use the median of the coordinate being split.</p></li>
<li><p>middle = Use the middle of the range; i.e. the average of the minimum
and maximum value.</p></li>
<li><p>random: Use a random point somewhere in the middle two quartiles of
the range.</p></li>
</ul>
</p></li>
<li><p><strong>min_top</strong> (<em>int</em>) – The minimum number of top layers to use when setting up the field.
(default: <span class="math notranslate nohighlight">\(\max(3, \log_2(N_{\rm cpu}))\)</span>)</p></li>
<li><p><strong>max_top</strong> (<em>int</em>) – The maximum number of top layers to use when setting up the field.
The top-level cells are where each calculation job starts. There will
typically be of order <span class="math notranslate nohighlight">\(2^{\rm max\_top}\)</span> top-level cells.
(default: 10)</p></li>
<li><p><strong>precision</strong> (<em>int</em>) – The precision to use for the output values. This specifies how many
digits to write. (default: 4)</p></li>
<li><p><strong>m2_uform</strong> (<em>str</em>) – The default functional form to use for aperture mass calculations.
see <a class="reference internal" href="gg.html#treecorr.GGCorrelation.calculateMapSq" title="treecorr.GGCorrelation.calculateMapSq"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">calculateMapSq</span></code></a> for more details.  (default: ‘Crittenden’)</p></li>
<li><p><strong>metric</strong> (<em>str</em>) – Which metric to use for distance measurements.  Options are listed
above.  (default: ‘Euclidean’)</p></li>
<li><p><strong>bin_type</strong> (<em>str</em>) – What type of binning should be used.  Options are listed above.
(default: ‘Log’)</p></li>
<li><p><strong>min_rpar</strong> (<em>float</em>) – The minimum difference in Rparallel to allow for pairs being included
in the correlation function.  (default: None)</p></li>
<li><p><strong>max_rpar</strong> (<em>float</em>) – The maximum difference in Rparallel to allow for pairs being included
in the correlation function.  (default: None)</p></li>
<li><p><strong>period</strong> (<em>float</em>) – For the ‘Periodic’ metric, the period to use in all directions.
(default: None)</p></li>
<li><p><strong>xperiod</strong> (<em>float</em>) – For the ‘Periodic’ metric, the period to use in the x direction.
(default: period)</p></li>
<li><p><strong>yperiod</strong> (<em>float</em>) – For the ‘Periodic’ metric, the period to use in the y direction.
(default: period)</p></li>
<li><p><strong>zperiod</strong> (<em>float</em>) – For the ‘Periodic’ metric, the period to use in the z direction.
(default: period)</p></li>
<li><p><strong>var_method</strong> (<em>str</em>) – Which method to use for estimating the variance. Options are:
‘shot’, ‘jackknife’, ‘sample’, ‘bootstrap’, ‘marked_bootstrap’.
(default: ‘shot’)</p></li>
<li><p><strong>num_bootstrap</strong> (<em>int</em>) – How many bootstrap samples to use for the ‘bootstrap’ and
‘marked_bootstrap’ var_methods.  (default: 500)</p></li>
<li><p><strong>cross_patch_weight</strong> (<em>str</em>) – How to weight pairs that cross between two patches when one patch
is deselected (e.g. in a jackknife sense) and the other is selected.
(default None)</p></li>
<li><p><strong>rng</strong> (<em>RandomState</em>) – If desired, a numpy.random.RandomState instance to use for bootstrap
random number generation. (default: None)</p></li>
<li><p><strong>num_threads</strong> (<em>int</em>) – <p>How many OpenMP threads to use during the calculation.
(default: use the number of cpu cores)</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This won’t work if the system’s C compiler cannot use OpenMP
(e.g. clang prior to version 3.7.)</p>
</div>
</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="treecorr.Corr2.build_cov_design_matrix">
<span class="sig-name descname"><span class="pre">build_cov_design_matrix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">method</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">comm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_bootstrap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cross_patch_weight</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/treecorr/corr2base.html#Corr2.build_cov_design_matrix"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#treecorr.Corr2.build_cov_design_matrix" title="Permalink to this definition"></a></dt>
<dd><p>Build the design matrix that is used for estimating the covariance matrix.</p>
<p>The design matrix for patch-based covariance estimates is a matrix where each row
corresponds to a different estimate of the data vector, <span class="math notranslate nohighlight">\(\xi_i\)</span> (or
<span class="math notranslate nohighlight">\(f(\xi_i)\)</span> if using the optional <code class="docutils literal notranslate"><span class="pre">func</span></code> parameter).</p>
<p>The different of rows in the matrix for each valid <code class="docutils literal notranslate"><span class="pre">method</span></code> are:</p>
<blockquote>
<div><ul class="simple">
<li><p>‘shot’: This method is not valid here.</p></li>
<li><p>‘jackknife’: The data vector when excluding a single patch.</p></li>
<li><p>‘sample’: The data vector using only a single patch for the first catalog.</p></li>
<li><p>‘bootstrap’: The data vector for a random resampling of the patches keeping the
sample total number, but allowing some to repeat.  Cross terms from repeated patches
are excluded (since they are really auto terms).</p></li>
<li><p>‘marked_bootstrap’: The data vector for a random resampling of patches in the first
catalog, using all patches for the second catalog.  Based on the algorithm in
Loh(2008).</p></li>
</ul>
</div></blockquote>
<p>See <a class="reference internal" href="#treecorr.Corr2.estimate_cov" title="treecorr.Corr2.estimate_cov"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">estimate_cov</span></code></a> for more details.</p>
<p>The return value includes both the design matrix and a vector of weights (the total weight
array in the computed correlation functions).  The weights are used for the sample method
when estimating the covariance matrix.  The other methods ignore them, but they are provided
here in case they are useful.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>method</strong> (<em>str</em>) – Which method to use to estimate the covariance matrix.</p></li>
<li><p><strong>func</strong> (<em>function</em>) – A unary function that takes the list <code class="docutils literal notranslate"><span class="pre">corrs</span></code> and returns the
desired full data vector. (default: None, which is equivalent to
<code class="docutils literal notranslate"><span class="pre">lambda</span> <span class="pre">corrs:</span> <span class="pre">np.concatenate([c.getStat()</span> <span class="pre">for</span> <span class="pre">c</span> <span class="pre">in</span> <span class="pre">corrs])</span></code>)</p></li>
<li><p><strong>comm</strong> (<em>mpi4py.Comm</em>) – If using MPI, an mpi4py Comm object to communicate between
processes.  (default: None)</p></li>
<li><p><strong>num_bootstrap</strong> (<em>int</em>) – How many bootstrap samples to use for the ‘bootstrap’ and
‘marked_bootstrap’ var_methods.  (default: 500; this value
can also be given in the constructor.)</p></li>
<li><p><strong>cross_patch_weight</strong> (<em>str</em>) – How to weight pairs that cross between two patches when one
patch is deselected (e.g. in a jackknife sense) and the other is
selected.  (default ‘simple’; this value can also be given in
the constructor.)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>(A, w), numpy arrays with the design matrix and weights respectively.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="treecorr.Corr2.clear">
<span class="sig-name descname"><span class="pre">clear</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/treecorr/corr2base.html#Corr2.clear"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#treecorr.Corr2.clear" title="Permalink to this definition"></a></dt>
<dd><p>Clear all data vectors, the results dict, and any related values.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="treecorr.Corr2.copy">
<span class="sig-name descname"><span class="pre">copy</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/treecorr/corr2base.html#Corr2.copy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#treecorr.Corr2.copy" title="Permalink to this definition"></a></dt>
<dd><p>Make a copy</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="treecorr.Corr2.cov">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">cov</span></span><a class="headerlink" href="#treecorr.Corr2.cov" title="Permalink to this definition"></a></dt>
<dd><p>The estimated covariance matrix</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="treecorr.Corr2.cov_diag">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">cov_diag</span></span><a class="headerlink" href="#treecorr.Corr2.cov_diag" title="Permalink to this definition"></a></dt>
<dd><p>A possibly more efficient way to access just the diagonal of the covariance matrix.</p>
<p>If var_method == ‘shot’, then this won’t make the full covariance matrix, just to
then pull out the diagonal.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="treecorr.Corr2.estimate_cov">
<span class="sig-name descname"><span class="pre">estimate_cov</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">method</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">comm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_bootstrap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cross_patch_weight</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/treecorr/corr2base.html#Corr2.estimate_cov"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#treecorr.Corr2.estimate_cov" title="Permalink to this definition"></a></dt>
<dd><p>Estimate the covariance matrix based on the data</p>
<p>This function will calculate an estimate of the covariance matrix according to the
given method.</p>
<p>Options for <code class="docutils literal notranslate"><span class="pre">method</span></code> include:</p>
<blockquote>
<div><ul class="simple">
<li><p>‘shot’ = The variance based on “shot noise” only.  This includes the Poisson
counts of points for N statistics, shape noise for G statistics, and the observed
scatter in the values for K statistics.  In this case, the returned value will
only be the diagonal.  Use np.diagonal(cov) if you actually want a full
matrix from this.</p></li>
<li><p>‘jackknife’ = A jackknife estimate of the covariance matrix based on the scatter
in the measurement when excluding one patch at a time.</p></li>
<li><p>‘sample’ = An estimate based on the sample covariance of a set of samples,
taken as the patches of the input catalog.</p></li>
<li><p>‘bootstrap’ = A bootstrap covariance estimate. It selects patches at random with
replacement and then generates the statistic using all the auto-correlations at
their selected repetition plus all the cross terms that aren’t actually auto terms.</p></li>
<li><p>‘marked_bootstrap’ = An estimate based on a marked-point bootstrap resampling of the
patches.  Similar to bootstrap, but only samples the patches of the first catalog and
uses all patches from the second catalog that correspond to each patch selection of
the first catalog.  Based on the algorithm presented in Loh (2008).
cf. <a class="reference external" href="https://ui.adsabs.harvard.edu/abs/2008ApJ...681..726L/">https://ui.adsabs.harvard.edu/abs/2008ApJ…681..726L/</a></p></li>
</ul>
</div></blockquote>
<p>Both ‘bootstrap’ and ‘marked_bootstrap’ use the num_bootstrap parameter, which can be set on
construction.</p>
<p>Another relevant parameter is ‘cross_patch_weight’. This parameter controls how
pairs that cross between two patches are weighted when one of the patches is selected
and the other is deselected. See <a class="reference external" href="https://ui.adsabs.harvard.edu/abs/2022MNRAS.514.1289M/">Mohammad and Percival (2022)</a> (MP22 hereafter)
for an in-depth discussion of these options. The parameter options mostly correspond
to the notation used in that paper.  Briefly the options are:</p>
<blockquote>
<div><ul class="simple">
<li><p>‘simple’ = Don’t use any pairs where either object is in a deselected patch.
This is the simplest implementation of the methods and is what TreeCorr always
did prior to version 5.1.  In the language of MP22, this is called mult, since
deselected patches have weight=0, and selected patches have weight=1, so the product
of the weights is 0 if either patch is deselected.
This option is valid for all patch-based methods, and it is currently still
the default.  This may change in a future version.</p></li>
<li><p>‘mean’ = Use a weight of 0.5 for any pair with one object in a deselected patch
and the other in a selected patch. This is the mean of the two patch weights (0,1).
This option is valid for all patch-based methods.</p></li>
<li><p>‘geom’ = Use the geometric mean of the two patch weights for each pair. For jackknife,
this would be equivalent to ‘simple’, since patch weights are either 0 or 1.
However, for bootstrap, individual patches can have weights greater than 1, so this
leads to a different weight for pairs that cross between two selected patches.
This option is only valid for bootstrap.</p></li>
<li><p>‘match’ = Use the “optimal” weight that matches the effect of auto- and cross-pairs
in the estimate of the jackknife covariance. MP22 calculate this for the to
be w = 1 - n_patch / (2 + sqrt(2) (n_patch-1)).
This option is only valid for jackknife.</p></li>
</ul>
</div></blockquote>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For most classes, there is only a single statistic, so this calculates a covariance
matrix for that vector.  <a class="reference internal" href="gg.html#treecorr.GGCorrelation" title="treecorr.GGCorrelation"><code class="xref any py py-class docutils literal notranslate"><span class="pre">GGCorrelation</span></code></a> other complex auto-correaltions have two:
<code class="docutils literal notranslate"><span class="pre">xip</span></code> and <code class="docutils literal notranslate"><span class="pre">xim</span></code>, so in this case the full data vector is <code class="docutils literal notranslate"><span class="pre">xip</span></code> followed by
<code class="docutils literal notranslate"><span class="pre">xim</span></code>, and this calculates the covariance matrix for that full vector including
both statistics.  The helper function <a class="reference internal" href="#treecorr.Corr2.getStat" title="treecorr.Corr2.getStat"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">getStat</span></code></a> returns the relevant statistic in all
cases.</p>
</div>
<p>In all cases, the relevant processing needs to already have been completed and finalized.
And for all methods other than ‘shot’, the processing should have involved an appropriate
number of patches – preferably more patches than the length of the vector for your
statistic, although this is not checked.</p>
<p>The default data vector to use for the covariance matrix is given by the method
<a class="reference internal" href="#treecorr.Corr2.getStat" title="treecorr.Corr2.getStat"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">getStat</span></code></a>.  As noted above, this is usually just self.xi.  However, there is an option
to compute the covariance of some other function of the correlation object by providing
an arbitrary function, <code class="docutils literal notranslate"><span class="pre">func</span></code>, which should act on the current correlation object
and return the data vector of interest.</p>
<p>For instance, for an <a class="reference internal" href="ng.html#treecorr.NGCorrelation" title="treecorr.NGCorrelation"><code class="xref any py py-class docutils literal notranslate"><span class="pre">NGCorrelation</span></code></a>, you might want to compute the covariance of the
imaginary part, <code class="docutils literal notranslate"><span class="pre">ng.xi_im</span></code>, rather than the real part.  In this case you could use</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">func</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">ng</span><span class="p">:</span> <span class="n">ng</span><span class="o">.</span><span class="n">xi_im</span>
</pre></div>
</div>
<p>The return value from this func should be a single numpy array. (This is not directly
checked, but you’ll probably get some kind of exception if it doesn’t behave as expected.)</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The optional <code class="docutils literal notranslate"><span class="pre">func</span></code> parameter is not valid in conjunction with <code class="docutils literal notranslate"><span class="pre">method='shot'</span></code>.
It only works for the methods that are based on patch combinations.</p>
</div>
<p>This function can be parallelized by passing the comm argument as an mpi4py communicator
to parallelize using that.  For MPI, all processes should have the same inputs.
If method == “shot” then parallelization has no effect.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>method</strong> (<em>str</em>) – Which method to use to estimate the covariance matrix.</p></li>
<li><p><strong>func</strong> (<em>function</em>) – A unary function that acts on the current correlation object and
returns the desired data vector. (default: None, which is
equivalent to <code class="docutils literal notranslate"><span class="pre">lambda</span> <span class="pre">corr:</span> <span class="pre">corr.getStat()</span></code>.)</p></li>
<li><p><strong>comm</strong> (<em>mpi4py.Comm</em>) – If using MPI, an mpi4py Comm object to communicate between
processes.  (default: None)</p></li>
<li><p><strong>num_bootstrap</strong> (<em>int</em>) – How many bootstrap samples to use for the ‘bootstrap’ and
‘marked_bootstrap’ var_methods.  (default: 500; this value
can also be given in the constructor.)</p></li>
<li><p><strong>cross_patch_weight</strong> (<em>str</em>) – How to weight pairs that cross between two patches when one
patch is deselected (e.g. in a jackknife sense) and the other is
selected.  (default ‘simple’; this value can also be given in the
constructor.)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A numpy array with the estimated covariance matrix.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="treecorr.Corr2.from_file">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_name</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rng</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/treecorr/corr2base.html#Corr2.from_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#treecorr.Corr2.from_file" title="Permalink to this definition"></a></dt>
<dd><p>Create a new instance from an output file.</p>
<p>This should be a file that was written by TreeCorr.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This classmethod may be called either using the base class or the class type that
wrote the file.  E.g. if the file was written by <a class="reference internal" href="gg.html#treecorr.GGCorrelation" title="treecorr.GGCorrelation"><code class="xref any py py-class docutils literal notranslate"><span class="pre">GGCorrelation</span></code></a>, then either
of the following would work and be equivalent:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">gg</span> <span class="o">=</span> <span class="n">treecorr</span><span class="o">.</span><span class="n">GGCorrelation</span><span class="o">.</span><span class="n">from_file</span><span class="p">(</span><span class="n">file_name</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gg</span> <span class="o">=</span> <span class="n">treecorr</span><span class="o">.</span><span class="n">Corr2</span><span class="o">.</span><span class="n">from_file</span><span class="p">(</span><span class="n">file_name</span><span class="p">)</span>
</pre></div>
</div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_name</strong> (<em>str</em>) – The name of the file to read in.</p></li>
<li><p><strong>file_type</strong> (<em>str</em>) – The type of file (‘ASCII’, ‘FITS’, or ‘HDF’).  (default: determine
the type automatically from the extension of file_name.)</p></li>
<li><p><strong>logger</strong> (<em>Logger</em>) – If desired, a logger object to use for logging. (default: None)</p></li>
<li><p><strong>rng</strong> (<em>RandomState</em>) – If desired, a numpy.random.RandomState instance to use for bootstrap
random number generation. (default: None)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A Correlation object, constructed from the information in the file.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="treecorr.Corr2.getStat">
<span class="sig-name descname"><span class="pre">getStat</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/treecorr/corr2base.html#Corr2.getStat"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#treecorr.Corr2.getStat" title="Permalink to this definition"></a></dt>
<dd><p>The standard statistic for the current correlation object as a 1-d array.</p>
<p>Usually, this is just self.xi.  But if the metric is TwoD, this becomes self.xi.ravel().
And for <a class="reference internal" href="gg.html#treecorr.GGCorrelation" title="treecorr.GGCorrelation"><code class="xref any py py-class docutils literal notranslate"><span class="pre">GGCorrelation</span></code></a> (and other complex auto-correlations), it is the concatenation of
self.xip and self.xim.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="treecorr.Corr2.getWeight">
<span class="sig-name descname"><span class="pre">getWeight</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/treecorr/corr2base.html#Corr2.getWeight"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#treecorr.Corr2.getWeight" title="Permalink to this definition"></a></dt>
<dd><p>The weight array for the current correlation object as a 1-d array.</p>
<p>This is the weight array corresponding to <a class="reference internal" href="#treecorr.Corr2.getStat" title="treecorr.Corr2.getStat"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">getStat</span></code></a>. Usually just self.weight, but
raveled for TwoD and duplicated for <a class="reference internal" href="gg.html#treecorr.GGCorrelation" title="treecorr.GGCorrelation"><code class="xref any py py-class docutils literal notranslate"><span class="pre">GGCorrelation</span></code></a>, etc. to match what
<a class="reference internal" href="#treecorr.Corr2.getStat" title="treecorr.Corr2.getStat"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">getStat</span></code></a> does in those cases.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="treecorr.Corr2.nonzero">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">nonzero</span></span><a class="headerlink" href="#treecorr.Corr2.nonzero" title="Permalink to this definition"></a></dt>
<dd><p>Return if there are any values accumulated yet.  (i.e. npairs &gt; 0)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="treecorr.Corr2.process">
<span class="sig-name descname"><span class="pre">process</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cat1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cat2</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_threads</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">comm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">low_mem</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initialize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">finalize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">patch_method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'global'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">corr_only</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/treecorr/corr2base.html#Corr2.process"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#treecorr.Corr2.process" title="Permalink to this definition"></a></dt>
<dd><p>Compute the correlation function.</p>
<ul class="simple">
<li><p>If only 1 argument is given, then compute an auto-correlation function.</p></li>
<li><p>If 2 arguments are given, then compute a cross-correlation function.</p></li>
</ul>
<p>Both catalog arguments may be lists, in which case all items in the list are used
for that element of the correlation.</p>
<p>In addition to computing the correlation function, this function also computes a
few ancillary quantities that are useful for interpreting the resulting correlation
function, including the attributes <code class="docutils literal notranslate"><span class="pre">meanr</span></code>, <code class="docutils literal notranslate"><span class="pre">meanlogr</span></code> and <code class="docutils literal notranslate"><span class="pre">npairs</span></code>.  For most
use cases these calculation impart negligible overhead to the calculation time.
The exception is <a class="reference internal" href="nn.html#treecorr.NNCorrelation" title="treecorr.NNCorrelation"><code class="xref any py py-class docutils literal notranslate"><span class="pre">NNCorrelation</span></code></a>, where they can result in somthing like 20-30%
overhead in the compute time.  So if you want to optimize the efficiency of the
calculation, we provide the option <code class="docutils literal notranslate"><span class="pre">corr_only=True</span></code>, which skips these computations.
In this case the resulting <code class="docutils literal notranslate"><span class="pre">meanr</span></code> and <code class="docutils literal notranslate"><span class="pre">meanlogr</span></code> attributes are the nominal
centers of the bins, not the actual mean values.  And <code class="docutils literal notranslate"><span class="pre">npairs</span></code> is estimated from
the total computed <code class="docutils literal notranslate"><span class="pre">weight</span></code> and the mean weight in the catalogs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cat1</strong> (<a class="reference internal" href="catalog.html#treecorr.Catalog" title="treecorr.Catalog"><em>Catalog</em></a>) – A catalog or list of catalogs for the first field.</p></li>
<li><p><strong>cat2</strong> (<a class="reference internal" href="catalog.html#treecorr.Catalog" title="treecorr.Catalog"><em>Catalog</em></a>) – A catalog or list of catalogs for the second field, if any.
(default: None)</p></li>
<li><p><strong>metric</strong> (<em>str</em>) – Which metric to use.  See <a class="reference internal" href="metric.html#metrics"><span class="std std-ref">Metrics</span></a> for details.
(default: ‘Euclidean’; this value can also be given in the
constructor in the config dict.)</p></li>
<li><p><strong>num_threads</strong> (<em>int</em>) – How many OpenMP threads to use during the calculation.
(default: use the number of cpu cores; this value can also be given
in the constructor in the config dict.)</p></li>
<li><p><strong>comm</strong> (<em>mpi4py.Comm</em>) – If running MPI, an mpi4py Comm object to communicate between
processes.  If used, the rank=0 process will have the final
computation. This only works if using patches. (default: None)</p></li>
<li><p><strong>low_mem</strong> (<em>bool</em>) – Whether to sacrifice a little speed to try to reduce memory usage.
This only works if using patches. (default: False)</p></li>
<li><p><strong>initialize</strong> (<em>bool</em>) – Whether to begin the calculation with a call to
<a class="reference internal" href="#treecorr.Corr2.clear" title="treecorr.Corr2.clear"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">Corr2.clear</span></code></a>.  (default: True)</p></li>
<li><p><strong>finalize</strong> (<em>bool</em>) – Whether to complete the calculation with a call to finalize.
(default: True)</p></li>
<li><p><strong>patch_method</strong> (<em>str</em>) – Which patch method to use. (default: ‘global’)</p></li>
<li><p><strong>corr_only</strong> (<em>bool</em>) – Whether to skip summing quantities that are not essential for
computing the correlation function. (default: False; see above)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="treecorr.Corr2.process_auto">
<span class="sig-name descname"><span class="pre">process_auto</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cat</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_threads</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">corr_only</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/treecorr/corr2base.html#Corr2.process_auto"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#treecorr.Corr2.process_auto" title="Permalink to this definition"></a></dt>
<dd><p>Process a single catalog, accumulating the auto-correlation.</p>
<p>This accumulates the weighted sums into the bins, but does not finalize
the calculation by dividing by the total weight at the end.  After
calling this function as often as desired, the <code class="docutils literal notranslate"><span class="pre">finalize</span></code> command will
finish the calculation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cat</strong> (<a class="reference internal" href="catalog.html#treecorr.Catalog" title="treecorr.Catalog"><em>Catalog</em></a>) – The catalog to process</p></li>
<li><p><strong>metric</strong> (<em>str</em>) – Which metric to use.  See <a class="reference internal" href="metric.html#metrics"><span class="std std-ref">Metrics</span></a> for details.
(default: ‘Euclidean’; this value can also be given in the
constructor in the config dict.)</p></li>
<li><p><strong>num_threads</strong> (<em>int</em>) – How many OpenMP threads to use during the calculation.
(default: use the number of cpu cores; this value can also be given
in the constructor in the config dict.)</p></li>
<li><p><strong>corr_only</strong> (<em>bool</em>) – Whether to skip summing quantities that are not essential for
computing the correlation function. (default: False)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="treecorr.Corr2.process_cross">
<span class="sig-name descname"><span class="pre">process_cross</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cat1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cat2</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_threads</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">corr_only</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/treecorr/corr2base.html#Corr2.process_cross"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#treecorr.Corr2.process_cross" title="Permalink to this definition"></a></dt>
<dd><p>Process a single pair of catalogs, accumulating the cross-correlation.</p>
<p>This accumulates the weighted sums into the bins, but does not finalize
the calculation by dividing by the total weight at the end.  After
calling this function as often as desired, the <code class="docutils literal notranslate"><span class="pre">finalize</span></code> command will
finish the calculation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cat1</strong> (<a class="reference internal" href="catalog.html#treecorr.Catalog" title="treecorr.Catalog"><em>Catalog</em></a>) – The first catalog to process</p></li>
<li><p><strong>cat2</strong> (<a class="reference internal" href="catalog.html#treecorr.Catalog" title="treecorr.Catalog"><em>Catalog</em></a>) – The second catalog to process</p></li>
<li><p><strong>metric</strong> (<em>str</em>) – Which metric to use.  See <a class="reference internal" href="metric.html#metrics"><span class="std std-ref">Metrics</span></a> for details.
(default: ‘Euclidean’; this value can also be given in the
constructor in the config dict.)</p></li>
<li><p><strong>num_threads</strong> (<em>int</em>) – How many OpenMP threads to use during the calculation.
(default: use the number of cpu cores; this value can also be given
in the constructor in the config dict.)</p></li>
<li><p><strong>corr_only</strong> (<em>bool</em>) – Whether to skip summing quantities that are not essential for
computing the correlation function. (default: False)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="treecorr.Corr2.read">
<span class="sig-name descname"><span class="pre">read</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_name</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/treecorr/corr2base.html#Corr2.read"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#treecorr.Corr2.read" title="Permalink to this definition"></a></dt>
<dd><p>Read in values from a file.</p>
<p>This should be a file that was written by TreeCorr, preferably a FITS or HDF5 file, so
there is no loss of information.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The current object should be constructed with the same configuration parameters as
the one being read.  e.g. the same min_sep, max_sep, etc.  This is not checked by
the read function.  For most use cases, you should prefer <a class="reference internal" href="#treecorr.Corr2.from_file" title="treecorr.Corr2.from_file"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">from_file</span></code></a>, which will
automatically construct the object with the correct configuration parameters given
the information in the file.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_name</strong> (<em>str</em>) – The name of the file to read in.</p></li>
<li><p><strong>file_type</strong> (<em>str</em>) – The type of file (‘ASCII’ or ‘FITS’).  (default: determine the type
automatically from the extension of file_name.)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="treecorr.Corr2.sample_pairs">
<span class="sig-name descname"><span class="pre">sample_pairs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cat1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cat2</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_sep</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_sep</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/treecorr/corr2base.html#Corr2.sample_pairs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#treecorr.Corr2.sample_pairs" title="Permalink to this definition"></a></dt>
<dd><p>Return a random sample of n pairs whose separations fall between min_sep and max_sep.</p>
<p>This would typically be used to get some random subset of the indices of pairs that
fell into a particular bin of the correlation.  E.g. to get 100 pairs from the third
bin of a <a class="reference internal" href="#treecorr.Corr2" title="treecorr.Corr2"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Corr2</span></code></a> instance, corr, you could write:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">min_sep</span> <span class="o">=</span> <span class="n">corr</span><span class="o">.</span><span class="n">left_edges</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>   <span class="c1"># third bin has i=2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">max_sep</span> <span class="o">=</span> <span class="n">corr</span><span class="o">.</span><span class="n">right_edges</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">i1</span><span class="p">,</span> <span class="n">i2</span><span class="p">,</span> <span class="n">sep</span> <span class="o">=</span> <span class="n">corr</span><span class="o">.</span><span class="n">sample_pairs</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="n">cat1</span><span class="p">,</span> <span class="n">cat2</span><span class="p">,</span> <span class="n">min_sep</span><span class="p">,</span> <span class="n">max_sep</span><span class="p">)</span>
</pre></div>
</div>
<p>The min_sep and max_sep should use the same units as were defined when constructing
the corr instance.</p>
<p>The selection process will also use the same bin_slop as specified (either explicitly or
implicitly) when constructing the corr instance.  This means that some of the pairs may
have actual separations slightly outside of the specified range.  If you want a selection
using an exact range without any slop, you should construct a new Correlation instance
with bin_slop=0, and call sample_pairs with that.</p>
<p>The returned separations will likewise correspond to the separation of the cells in the
tree that TreeCorr used to place the pairs into the given bin.  Therefore, if these cells
were not leaf cells, then they will not typically be equal to the real separations for the
given metric.  If you care about the exact separations for each pair, you should either
call sample_pairs from a Correlation instance with brute=True or recalculate the
distances yourself from the original data.</p>
<p>Also, note that min_sep and max_sep may be arbitrary.  There is no requirement that they
be edges of one of the standard bins for this correlation function.  There is also no
requirement that this correlation instance has already accumulated pairs via a call
to process with these catalogs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>n</strong> (<em>int</em>) – How many samples to return.</p></li>
<li><p><strong>cat1</strong> (<a class="reference internal" href="catalog.html#treecorr.Catalog" title="treecorr.Catalog"><em>Catalog</em></a>) – The catalog from which to sample the first object of each pair.</p></li>
<li><p><strong>cat2</strong> (<a class="reference internal" href="catalog.html#treecorr.Catalog" title="treecorr.Catalog"><em>Catalog</em></a>) – The catalog from which to sample the second object of each pair.
(This may be the same as cat1.)</p></li>
<li><p><strong>min_sep</strong> (<em>float</em>) – The minimum separation for the returned pairs (modulo some slop
allowed by the bin_slop parameter). (Note: keyword name is required
for this parameter: min_sep=min_sep)</p></li>
<li><p><strong>max_sep</strong> (<em>float</em>) – The maximum separation for the returned pairs (modulo some slop
allowed by the bin_slop parameter). (Note: keyword name is required
for this parameter: max_sep=max_sep)</p></li>
<li><p><strong>metric</strong> (<em>str</em>) – Which metric to use.  See <a class="reference internal" href="metric.html#metrics"><span class="std std-ref">Metrics</span></a> for details.  (default:
self.metric, or ‘Euclidean’ if not set yet)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><p>Tuple containing</p>
<blockquote>
<div><ul class="simple">
<li><p>i1 (array): indices of objects from cat1</p></li>
<li><p>i2 (array): indices of objects from cat2</p></li>
<li><p>sep (array): separations of the pairs of objects (i1,i2)</p></li>
</ul>
</div></blockquote>
</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="treecorr.estimate_multi_cov">
<span class="sig-prename descclassname"><span class="pre">treecorr.</span></span><span class="sig-name descname"><span class="pre">estimate_multi_cov</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">corrs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">comm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_bootstrap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cross_patch_weight</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/treecorr/corr2base.html#estimate_multi_cov"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#treecorr.estimate_multi_cov" title="Permalink to this definition"></a></dt>
<dd><p>Estimate the covariance matrix of multiple statistics.</p>
<p>This is like the method <a class="reference internal" href="#treecorr.Corr2.estimate_cov" title="treecorr.Corr2.estimate_cov"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">Corr2.estimate_cov</span></code></a>, except that it will acoommodate
multiple statistics from a list <code class="docutils literal notranslate"><span class="pre">corrs</span></code> of <a class="reference internal" href="#treecorr.Corr2" title="treecorr.Corr2"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Corr2</span></code></a> objects.</p>
<p>Options for <code class="docutils literal notranslate"><span class="pre">method</span></code> include:</p>
<blockquote>
<div><ul class="simple">
<li><p>‘shot’ = The variance based on “shot noise” only.  This includes the Poisson
counts of points for N statistics, shape noise for G statistics, and the observed
scatter in the values for K statistics.  In this case, the returned value will only
be the diagonal.  Use np.diagonal(cov) if you actually want a full matrix from this.</p></li>
<li><p>‘jackknife’ = A jackknife estimate of the covariance matrix based on the scatter
in the measurement when excluding one patch at a time.</p></li>
<li><p>‘sample’ = An estimate based on the sample covariance of a set of samples,
taken as the patches of the input catalog.</p></li>
<li><p>‘bootstrap’ = A bootstrap covariance estimate. It selects patches at random with
replacement and then generates the statistic using all the auto-correlations at
their selected repetition plus all the cross terms that aren’t actually auto terms.</p></li>
<li><p>‘marked_bootstrap’ = An estimate based on a marked-point bootstrap resampling of the
patches.  Similar to bootstrap, but only samples the patches of the first catalog and
uses all patches from the second catalog that correspond to each patch selection of
the first catalog.  Based on the algorithm presented in Loh (2008).
cf. <a class="reference external" href="https://ui.adsabs.harvard.edu/abs/2008ApJ...681..726L/">https://ui.adsabs.harvard.edu/abs/2008ApJ…681..726L/</a></p></li>
</ul>
</div></blockquote>
<p>Both ‘bootstrap’ and ‘marked_bootstrap’ use the num_bootstrap parameter to set the
number of bootstrap realizations to be used.</p>
<p>Another relevant parameter is ‘cross_patch_weight’. This parameter controls how
pairs that cross between two patches are weighted when one of the patches is selected
and the other is deselected. See <a class="reference external" href="https://ui.adsabs.harvard.edu/abs/2022MNRAS.514.1289M/">Mohammad and Percival (2022)</a> (MP22 hereafter)
for an in-depth discussion of these options. The parameter options mostly correspond to
the notation used in that paper.  Briefly the options are:</p>
<blockquote>
<div><ul class="simple">
<li><p>‘simple’ = Don’t use any pairs where either object is in a deselected patch.
This is the simplest implementation of the methods and is what TreeCorr always
did prior to version 5.1.  In the language of MP22, this is called mult, since
deselected patches have weight=0, and selected patches have weight=1, so the product
of the weights is 0 if either patch is deselected.
This option is valid for all patch-based methods, and it is currently still
the default.  This may change in a future version.</p></li>
<li><p>‘mean’ = Use a weight of 0.5 for any pair with one object in a deselected patch
and the other in a selected patch. This is the mean of the two patch weights (0,1).
This option is valid for all patch-based methods.</p></li>
<li><p>‘geom’ = Use the geometric mean of the two patch weights for each pair. For jackknife,
this would be equivalent to ‘simple’, since patch weights are either 0 or 1.
However, for bootstrap, individual patches can have weights greater than 1, so this
leads to a different weight for pairs that cross between two selected patches.
This option is only valid for bootstrap.</p></li>
<li><p>‘match’ = Use the “optimal” weight that matches the effect of auto- and cross-pairs
in the estimate of the jackknife covariance. MP22 calculate this for the to
be w = 1 - n_patch / (2 + sqrt(2) (n_patch-1)).
This option is only valid for jackknife.</p></li>
</ul>
</div></blockquote>
<p>For example, to find the combined covariance matrix for an NG tangential shear statistc,
along with the GG xi+ and xi- from the same area, using jackknife covariance estimation,
you would write:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">cov</span> <span class="o">=</span> <span class="n">treecorr</span><span class="o">.</span><span class="n">estimate_multi_cov</span><span class="p">([</span><span class="n">ng</span><span class="p">,</span><span class="n">gg</span><span class="p">],</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;jackknife&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>In all cases, the relevant processing needs to already have been completed and finalized.
And for all methods other than ‘shot’, the processing should have involved an appropriate
number of patches – preferably more patches than the length of the vector for your
statistic, although this is not checked.</p>
<p>The default order of the covariance matrix is to simply concatenate the data vectors
for each corr in the list <code class="docutils literal notranslate"><span class="pre">corrs</span></code>.  However, if you want to do something more complicated,
you may provide an arbitrary function, <code class="docutils literal notranslate"><span class="pre">func</span></code>, which should act on the list of correlations.
For instance, if you have several <a class="reference internal" href="gg.html#treecorr.GGCorrelation" title="treecorr.GGCorrelation"><code class="xref any py py-class docutils literal notranslate"><span class="pre">GGCorrelation</span></code></a> objects and would like to order the
covariance such that all xi+ results come first, and then all xi- results, you could use</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">func</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">corrs</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">([</span><span class="n">c</span><span class="o">.</span><span class="n">xip</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">corrs</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="n">c</span><span class="o">.</span><span class="n">xim</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">corrs</span><span class="p">])</span>
</pre></div>
</div>
<p>Or if you want to compute the covariance matrix of some derived quantity like the ratio
of two correlations, you could use</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">func</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">corrs</span><span class="p">:</span> <span class="n">corrs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">xi</span> <span class="o">/</span> <span class="n">corrs</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">xi</span>
</pre></div>
</div>
<p>This function can be parallelized by passing the comm argument as an mpi4py communicator to
parallelize using that.  For MPI, all processes should have the same inputs.
If method == “shot” then parallelization has no effect.</p>
<p>The return value from this func should be a single numpy array. (This is not directly
checked, but you’ll probably get some kind of exception if it doesn’t behave as expected.)</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The optional <code class="docutils literal notranslate"><span class="pre">func</span></code> parameter is not valid in conjunction with <code class="docutils literal notranslate"><span class="pre">method='shot'</span></code>.
It only works for the methods that are based on patch combinations.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>corrs</strong> (<em>list</em>) – A list of <a class="reference internal" href="#treecorr.Corr2" title="treecorr.Corr2"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Corr2</span></code></a> instances.</p></li>
<li><p><strong>method</strong> (<em>str</em>) – Which method to use to estimate the covariance matrix.</p></li>
<li><p><strong>func</strong> (<em>function</em>) – A unary function that takes the list <code class="docutils literal notranslate"><span class="pre">corrs</span></code> and returns the
desired full data vector. (default: None, which is equivalent to
<code class="docutils literal notranslate"><span class="pre">lambda</span> <span class="pre">corrs:</span> <span class="pre">np.concatenate([c.getStat()</span> <span class="pre">for</span> <span class="pre">c</span> <span class="pre">in</span> <span class="pre">corrs])</span></code>)</p></li>
<li><p><strong>comm</strong> (<em>mpi4py.Comm</em>) – If using MPI, an mpi4py Comm object to communicate between
processes.  (default: None)</p></li>
<li><p><strong>num_bootstrap</strong> (<em>int</em>) – How many bootstrap samples to use for the ‘bootstrap’ and
‘marked_bootstrap’ var_methods.  (default: 500)</p></li>
<li><p><strong>cross_patch_weight</strong> (<em>str</em>) – How to weight pairs that cross between two patches when one
patch is deselected (e.g. in a jackknife sense) and the other is
selected.  (default ‘simple’)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A numpy array with the estimated covariance matrix.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="treecorr.build_multi_cov_design_matrix">
<span class="sig-prename descclassname"><span class="pre">treecorr.</span></span><span class="sig-name descname"><span class="pre">build_multi_cov_design_matrix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">corrs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">comm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_bootstrap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cross_patch_weight</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/treecorr/corr2base.html#build_multi_cov_design_matrix"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#treecorr.build_multi_cov_design_matrix" title="Permalink to this definition"></a></dt>
<dd><p>Build the design matrix that is used for estimating the covariance matrix.</p>
<p>The design matrix for patch-based covariance estimates is a matrix where each row
corresponds to a different estimate of the data vector, <span class="math notranslate nohighlight">\(\xi_i\)</span> (or
<span class="math notranslate nohighlight">\(f(\xi_i)\)</span> if using the optional <code class="docutils literal notranslate"><span class="pre">func</span></code> parameter).</p>
<p>The different of rows in the matrix for each valid <code class="docutils literal notranslate"><span class="pre">method</span></code> are:</p>
<blockquote>
<div><ul class="simple">
<li><p>‘shot’: This method is not valid here.</p></li>
<li><p>‘jackknife’: The data vector when excluding a single patch.</p></li>
<li><p>‘sample’: The data vector using only a single patch for the first catalog.</p></li>
<li><p>‘bootstrap’: The data vector for a random resampling of the patches keeping the
sample total number, but allowing some to repeat.  Cross terms from repeated patches
are excluded (since they are really auto terms).</p></li>
<li><p>‘marked_bootstrap’: The data vector for a random resampling of patches in the first
catalog, using all patches for the second catalog.  Based on the algorithm in Loh(2008).</p></li>
</ul>
</div></blockquote>
<p>See <a class="reference internal" href="#treecorr.estimate_multi_cov" title="treecorr.estimate_multi_cov"><code class="xref any py py-func docutils literal notranslate"><span class="pre">estimate_multi_cov</span></code></a> for more details.</p>
<p>The return value includes both the design matrix and a vector of weights (the total weight
array in the computed correlation functions).  The weights are used for the sample method
when estimating the covariance matrix.  The other methods ignore them, but they are provided
here in case they are useful.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>corrs</strong> (<em>list</em>) – A list of <a class="reference internal" href="#treecorr.Corr2" title="treecorr.Corr2"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Corr2</span></code></a> instances.</p></li>
<li><p><strong>method</strong> (<em>str</em>) – Which method to use to estimate the covariance matrix.</p></li>
<li><p><strong>func</strong> (<em>function</em>) – A unary function that takes the list <code class="docutils literal notranslate"><span class="pre">corrs</span></code> and returns the
desired full data vector. (default: None, which is equivalent to
<code class="docutils literal notranslate"><span class="pre">lambda</span> <span class="pre">corrs:</span> <span class="pre">np.concatenate([c.getStat()</span> <span class="pre">for</span> <span class="pre">c</span> <span class="pre">in</span> <span class="pre">corrs])</span></code>)</p></li>
<li><p><strong>comm</strong> (<em>mpi4py.Comm</em>) – If using MPI, an mpi4py Comm object to communicate between
processes.  (default: None)</p></li>
<li><p><strong>num_bootstrap</strong> (<em>int</em>) – How many bootstrap samples to use for the ‘bootstrap’ and
‘marked_bootstrap’ var_methods.  (default: 500)</p></li>
<li><p><strong>cross_patch_weight</strong> (<em>str</em>) – How to weight pairs that cross between two patches when one
patch is deselected (e.g. in a jackknife sense) and the other is
selected.  (default ‘simple’)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>(A, w), numpy arrays with the design matrix and weights respectively.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="treecorr.set_max_omp_threads">
<span class="sig-prename descclassname"><span class="pre">treecorr.</span></span><span class="sig-name descname"><span class="pre">set_max_omp_threads</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_threads</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/treecorr/util.html#set_max_omp_threads"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#treecorr.set_max_omp_threads" title="Permalink to this definition"></a></dt>
<dd><p>Set the maximum allowed number of OpenMP threads to use in the C++ layer in any
further TreeCorr functions</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num_threads</strong> – The target maximum number of threads to allow.  None means no limit.</p></li>
<li><p><strong>logger</strong> – If desired, a logger object for logging any warnings here. (default: None)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="treecorr.set_omp_threads">
<span class="sig-prename descclassname"><span class="pre">treecorr.</span></span><span class="sig-name descname"><span class="pre">set_omp_threads</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_threads</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/treecorr/util.html#set_omp_threads"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#treecorr.set_omp_threads" title="Permalink to this definition"></a></dt>
<dd><p>Set the number of OpenMP threads to use in the C++ layer.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num_threads</strong> – The target number of threads to use</p></li>
<li><p><strong>logger</strong> – If desired, a logger object for logging any warnings here. (default: None)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The  number of threads OpenMP reports that it will use.  Typically this
matches the input, but OpenMP reserves the right not to comply with
the requested number of threads.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="treecorr.get_omp_threads">
<span class="sig-prename descclassname"><span class="pre">treecorr.</span></span><span class="sig-name descname"><span class="pre">get_omp_threads</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/treecorr/util.html#get_omp_threads"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#treecorr.get_omp_threads" title="Permalink to this definition"></a></dt>
<dd><p>Get the number of OpenMP threads currently set to be used in the C++ layer.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The  number of threads OpenMP reports that it will use.</p>
</dd>
</dl>
</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="catalog.html" class="btn btn-neutral float-left" title="Input Data" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="nn.html" class="btn btn-neutral float-right" title="NNCorrelation: Count-count correlations" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2019, Mike Jarvis.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>