<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>NNCorrelation: Count-count correlations &mdash; TreeCorr 5.0.1 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="NKCorrelation: Count-scalar correlations" href="nk.html" />
    <link rel="prev" title="Two-point Correlation Functions" href="correlation2.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            TreeCorr
          </a>
              <div class="version">
                5.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="catalog.html">Input Data</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="correlation2.html">Two-point Correlation Functions</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">NNCorrelation: Count-count correlations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#treecorr.NNCorrelation"><code class="docutils literal notranslate"><span class="pre">NNCorrelation</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#treecorr.NNCorrelation.__iadd__"><code class="docutils literal notranslate"><span class="pre">NNCorrelation.__iadd__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#treecorr.NNCorrelation.__init__"><code class="docutils literal notranslate"><span class="pre">NNCorrelation.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#treecorr.NNCorrelation.calculateNapSq"><code class="docutils literal notranslate"><span class="pre">NNCorrelation.calculateNapSq()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#treecorr.NNCorrelation.calculateXi"><code class="docutils literal notranslate"><span class="pre">NNCorrelation.calculateXi()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#treecorr.NNCorrelation.copy"><code class="docutils literal notranslate"><span class="pre">NNCorrelation.copy()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#treecorr.NNCorrelation.finalize"><code class="docutils literal notranslate"><span class="pre">NNCorrelation.finalize()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#treecorr.NNCorrelation.from_file"><code class="docutils literal notranslate"><span class="pre">NNCorrelation.from_file()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#treecorr.NNCorrelation.getStat"><code class="docutils literal notranslate"><span class="pre">NNCorrelation.getStat()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#treecorr.NNCorrelation.getWeight"><code class="docutils literal notranslate"><span class="pre">NNCorrelation.getWeight()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#treecorr.NNCorrelation.process_auto"><code class="docutils literal notranslate"><span class="pre">NNCorrelation.process_auto()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#treecorr.NNCorrelation.process_cross"><code class="docutils literal notranslate"><span class="pre">NNCorrelation.process_cross()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#treecorr.NNCorrelation.read"><code class="docutils literal notranslate"><span class="pre">NNCorrelation.read()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#treecorr.NNCorrelation.write"><code class="docutils literal notranslate"><span class="pre">NNCorrelation.write()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="nk.html">NKCorrelation: Count-scalar correlations</a></li>
<li class="toctree-l2"><a class="reference internal" href="kk.html">KKCorrelation: Scalar-scalar correlations</a></li>
<li class="toctree-l2"><a class="reference internal" href="nz.html">NZCorrelation: Count-complex correlations</a></li>
<li class="toctree-l2"><a class="reference internal" href="kz.html">KZCorrelation: Scalar-complex correlations</a></li>
<li class="toctree-l2"><a class="reference internal" href="zz.html">ZZCorrelation: Complex-complex correlations</a></li>
<li class="toctree-l2"><a class="reference internal" href="nv.html">NVCorrelation: Count-vector correlations</a></li>
<li class="toctree-l2"><a class="reference internal" href="kv.html">KVCorrelation: Scalar-vector correlations</a></li>
<li class="toctree-l2"><a class="reference internal" href="vv.html">VVCorrelation: Vector-vector correlations</a></li>
<li class="toctree-l2"><a class="reference internal" href="ng.html">NGCorrelation: Count-shear correlations</a></li>
<li class="toctree-l2"><a class="reference internal" href="kg.html">KGCorrelation: Scalar-shear correlations</a></li>
<li class="toctree-l2"><a class="reference internal" href="gg.html">GGCorrelation: Shear-shear correlations</a></li>
<li class="toctree-l2"><a class="reference internal" href="nt.html">NTCorrelation: Count-trefoil correlations</a></li>
<li class="toctree-l2"><a class="reference internal" href="kt.html">KTCorrelation: Scalar-trefoil correlations</a></li>
<li class="toctree-l2"><a class="reference internal" href="tt.html">TTCorrelation: Trefoil-trefoil correlations</a></li>
<li class="toctree-l2"><a class="reference internal" href="nq.html">NQCorrelation: Count-quatrefoil correlations</a></li>
<li class="toctree-l2"><a class="reference internal" href="kq.html">KQCorrelation: Scalar-quatrefoil correlations</a></li>
<li class="toctree-l2"><a class="reference internal" href="qq.html">QQCorrelation: Quatrefoil-quatrefoil correlations</a></li>
<li class="toctree-l2"><a class="reference internal" href="correlation2.html#treecorr.Corr2"><code class="docutils literal notranslate"><span class="pre">Corr2</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="correlation2.html#treecorr.estimate_multi_cov"><code class="docutils literal notranslate"><span class="pre">estimate_multi_cov()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="correlation2.html#treecorr.build_multi_cov_design_matrix"><code class="docutils literal notranslate"><span class="pre">build_multi_cov_design_matrix()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="correlation2.html#treecorr.set_max_omp_threads"><code class="docutils literal notranslate"><span class="pre">set_max_omp_threads()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="correlation2.html#treecorr.set_omp_threads"><code class="docutils literal notranslate"><span class="pre">set_omp_threads()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="correlation2.html#treecorr.get_omp_threads"><code class="docutils literal notranslate"><span class="pre">get_omp_threads()</span></code></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="correlation3.html">Three-point Correlation Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="metric.html">Metrics</a></li>
<li class="toctree-l1"><a class="reference internal" href="binning.html">Binning</a></li>
<li class="toctree-l1"><a class="reference internal" href="shear.html">Shear Conventions</a></li>
<li class="toctree-l1"><a class="reference internal" href="patches.html">Patches</a></li>
<li class="toctree-l1"><a class="reference internal" href="cov.html">Covariance Estimates</a></li>
<li class="toctree-l1"><a class="reference internal" href="field.html">Fields</a></li>
<li class="toctree-l1"><a class="reference internal" href="scripts.html">Using configuration files</a></li>
<li class="toctree-l1"><a class="reference internal" href="guide.html">Getting Started Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="changes.html">Changes from version 4.3 to 5.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="changes.html#changes-from-version-5-0-0-to-5-0-1">Changes from version 5.0.0 to 5.0.1</a></li>
<li class="toctree-l1"><a class="reference internal" href="history.html">Previous History</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">TreeCorr</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="correlation2.html">Two-point Correlation Functions</a></li>
      <li class="breadcrumb-item active">NNCorrelation: Count-count correlations</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/nn.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="nncorrelation-count-count-correlations">
<h1>NNCorrelation: Count-count correlations<a class="headerlink" href="#nncorrelation-count-count-correlations" title="Permalink to this heading"></a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="treecorr.NNCorrelation">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">treecorr.</span></span><span class="sig-name descname"><span class="pre">NNCorrelation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/treecorr/nncorrelation.html#NNCorrelation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#treecorr.NNCorrelation" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="correlation2.html#treecorr.Corr2" title="treecorr.corr2base.Corr2"><code class="xref py py-class docutils literal notranslate"><span class="pre">Corr2</span></code></a></p>
<p>This class handles the calculation and storage of a 2-point count-count correlation
function.  i.e. the regular density correlation function.</p>
<p>Ojects of this class holds the following attributes:</p>
<dl class="field-list simple">
<dt class="field-odd">Attributes<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nbins</strong> – The number of bins in logr</p></li>
<li><p><strong>bin_size</strong> – The size of the bins in logr</p></li>
<li><p><strong>min_sep</strong> – The minimum separation being considered</p></li>
<li><p><strong>max_sep</strong> – The maximum separation being considered</p></li>
</ul>
</dd>
</dl>
<p>In addition, the following attributes are numpy arrays of length (nbins):</p>
<dl class="field-list simple">
<dt class="field-odd">Attributes<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>logr</strong> – The nominal center of the bin in log(r) (the natural logarithm of r).</p></li>
<li><p><strong>rnom</strong> – The nominal center of the bin converted to regular distance.
i.e. r = exp(logr).</p></li>
<li><p><strong>meanr</strong> – The (weighted) mean value of r for the pairs in each bin.
If there are no pairs in a bin, then exp(logr) will be used instead.</p></li>
<li><p><strong>meanlogr</strong> – The mean value of log(r) for the pairs in each bin.
If there are no pairs in a bin, then logr will be used instead.</p></li>
<li><p><strong>weight</strong> – The total weight in each bin.</p></li>
<li><p><strong>npairs</strong> – The number of pairs going into each bin (including pairs where one or
both objects have w=0).</p></li>
<li><p><strong>tot</strong> – The total number of pairs processed, which is used to normalize
the randoms if they have a different number of pairs.</p></li>
</ul>
</dd>
</dl>
<p>If <a class="reference internal" href="#treecorr.NNCorrelation.calculateXi" title="treecorr.NNCorrelation.calculateXi"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">calculateXi</span></code></a> has been called, then the following will also be available:</p>
<dl class="field-list simple">
<dt class="field-odd">Attributes<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>xi</strong> – The correlation function, <span class="math notranslate nohighlight">\(\xi(r)\)</span></p></li>
<li><p><strong>varxi</strong> – An estimate of the variance of <span class="math notranslate nohighlight">\(\xi\)</span></p></li>
<li><p><strong>cov</strong> – An estimate of the full covariance matrix.</p></li>
</ul>
</dd>
</dl>
<p>If <code class="docutils literal notranslate"><span class="pre">sep_units</span></code> are given (either in the config dict or as a named kwarg) then the distances
will all be in these units.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you separate out the steps of the <a class="reference internal" href="correlation2.html#treecorr.Corr2.process" title="treecorr.Corr2.process"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">Corr2.process</span></code></a> command and use <a class="reference internal" href="#treecorr.NNCorrelation.process_auto" title="treecorr.NNCorrelation.process_auto"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">process_auto</span></code></a>
and/or <a class="reference internal" href="correlation2.html#treecorr.Corr2.process_cross" title="treecorr.Corr2.process_cross"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">Corr2.process_cross</span></code></a>, then the units will not be applied to <code class="docutils literal notranslate"><span class="pre">meanr</span></code> or
<code class="docutils literal notranslate"><span class="pre">meanlogr</span></code> until the <a class="reference internal" href="#treecorr.NNCorrelation.finalize" title="treecorr.NNCorrelation.finalize"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">finalize</span></code></a> function is called.</p>
</div>
<p>The typical usage pattern is as follows:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">nn</span> <span class="o">=</span> <span class="n">treecorr</span><span class="o">.</span><span class="n">NNCorrelation</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nn</span><span class="o">.</span><span class="n">process</span><span class="p">(</span><span class="n">cat</span><span class="p">)</span>         <span class="c1"># For auto-correlation.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nn</span><span class="o">.</span><span class="n">process</span><span class="p">(</span><span class="n">cat1</span><span class="p">,</span><span class="n">cat2</span><span class="p">)</span>   <span class="c1"># For cross-correlation.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rr</span><span class="o">.</span><span class="n">process</span><span class="o">...</span>           <span class="c1"># Likewise for random-random correlations</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dr</span><span class="o">.</span><span class="n">process</span><span class="o">...</span>           <span class="c1"># If desired, also do data-random correlations</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rd</span><span class="o">.</span><span class="n">process</span><span class="o">...</span>           <span class="c1"># For cross-correlations, also do the reverse.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nn</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">file_name</span><span class="p">,</span><span class="n">rr</span><span class="o">=</span><span class="n">rr</span><span class="p">,</span><span class="n">dr</span><span class="o">=</span><span class="n">dr</span><span class="p">,</span><span class="n">rd</span><span class="o">=</span><span class="n">rd</span><span class="p">)</span>         <span class="c1"># Write out to a file.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">xi</span><span class="p">,</span><span class="n">varxi</span> <span class="o">=</span> <span class="n">nn</span><span class="o">.</span><span class="n">calculateXi</span><span class="p">(</span><span class="n">rr</span><span class="o">=</span><span class="n">rr</span><span class="p">,</span><span class="n">dr</span><span class="o">=</span><span class="n">dr</span><span class="p">,</span><span class="n">rd</span><span class="o">=</span><span class="n">rd</span><span class="p">)</span>  <span class="c1"># Or get correlation function directly.</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>config</strong> (<em>dict</em>) – A configuration dict that can be used to pass in kwargs if desired.
This dict is allowed to have addition entries besides those listed
in <a class="reference internal" href="correlation2.html#treecorr.Corr2" title="treecorr.Corr2"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Corr2</span></code></a>, which are ignored here. (default: None)</p></li>
<li><p><strong>logger</strong> – If desired, a logger object for logging. (default: None, in which case
one will be built according to the config dict’s verbose level.)</p></li>
</ul>
</dd>
<dt class="field-even">Keyword Arguments<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>**kwargs</strong> – See the documentation for <a class="reference internal" href="correlation2.html#treecorr.Corr2" title="treecorr.Corr2"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Corr2</span></code></a> for the list of allowed keyword
arguments, which may be passed either directly or in the config dict.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="treecorr.NNCorrelation.__iadd__">
<span class="sig-name descname"><span class="pre">__iadd__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/treecorr/nncorrelation.html#NNCorrelation.__iadd__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#treecorr.NNCorrelation.__iadd__" title="Permalink to this definition"></a></dt>
<dd><p>Add a second Correlation object’s data to this one.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For this to make sense, both objects should not have had <a class="reference internal" href="#treecorr.NNCorrelation.finalize" title="treecorr.NNCorrelation.finalize"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">finalize</span></code></a> called yet.
Then, after adding them together, you should call <a class="reference internal" href="#treecorr.NNCorrelation.finalize" title="treecorr.NNCorrelation.finalize"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">finalize</span></code></a> on the sum.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="treecorr.NNCorrelation.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/treecorr/nncorrelation.html#NNCorrelation.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#treecorr.NNCorrelation.__init__" title="Permalink to this definition"></a></dt>
<dd><p>Initialize <a class="reference internal" href="#treecorr.NNCorrelation" title="treecorr.NNCorrelation"><code class="xref any py py-class docutils literal notranslate"><span class="pre">NNCorrelation</span></code></a>.  See class doc for details.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="treecorr.NNCorrelation.calculateNapSq">
<span class="sig-name descname"><span class="pre">calculateNapSq</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">R</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">m2_uform</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/treecorr/nncorrelation.html#NNCorrelation.calculateNapSq"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#treecorr.NNCorrelation.calculateNapSq" title="Permalink to this definition"></a></dt>
<dd><p>Calculate the corrollary to the aperture mass statistics for counts.</p>
<div class="math notranslate nohighlight">
\[\begin{split}\langle N_{ap}^2 \rangle(R) &amp;= \int_{0}^{rmax} \frac{r dr}{2R^2}
\left [ T_+\left(\frac{r}{R}\right) \xi(r) \right] \\\end{split}\]</div>
<p>The <code class="docutils literal notranslate"><span class="pre">m2_uform</span></code> parameter sets which definition of the aperture mass to use.
The default is to use ‘Crittenden’.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">m2_uform</span></code> is ‘Crittenden’:</p>
<div class="math notranslate nohighlight">
\[\begin{split}U(r) &amp;= \frac{1}{2\pi} (1-r^2) \exp(-r^2/2) \\
T_+(s) &amp;= \frac{s^4 - 16s^2 + 32}{128} \exp(-s^2/4) \\
rmax &amp;= \infty\end{split}\]</div>
<p>cf. Crittenden, et al (2002): ApJ, 568, 20</p>
<p>If <code class="docutils literal notranslate"><span class="pre">m2_uform</span></code> is ‘Schneider’:</p>
<div class="math notranslate nohighlight">
\[\begin{split}U(r) &amp;= \frac{9}{\pi} (1-r^2) (1/3-r^2) \\
T_+(s) &amp;= \frac{12}{5\pi} (2-15s^2) \arccos(s/2) \\
&amp;\qquad + \frac{1}{100\pi} s \sqrt{4-s^2} (120 + 2320s^2 - 754s^4 + 132s^6 - 9s^8) \\
rmax &amp;= 2R\end{split}\]</div>
<p>cf. Schneider, et al (2002): A&amp;A, 389, 729</p>
<p>This is used by <a class="reference internal" href="ng.html#treecorr.NGCorrelation.writeNorm" title="treecorr.NGCorrelation.writeNorm"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">NGCorrelation.writeNorm</span></code></a>.  See that function and also
<a class="reference internal" href="gg.html#treecorr.GGCorrelation.calculateMapSq" title="treecorr.GGCorrelation.calculateMapSq"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">GGCorrelation.calculateMapSq</span></code></a> for more details.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rr</strong> (<a class="reference internal" href="#treecorr.NNCorrelation" title="treecorr.NNCorrelation"><em>NNCorrelation</em></a>) – The auto-correlation of the random field (RR)</p></li>
<li><p><strong>R</strong> (<em>array</em>) – The R values at which to calculate the aperture mass statistics.
(default: None, which means use self.rnom)</p></li>
<li><p><strong>dr</strong> (<a class="reference internal" href="#treecorr.NNCorrelation" title="treecorr.NNCorrelation"><em>NNCorrelation</em></a>) – The cross-correlation of the data with randoms (DR), if
desired. (default: None)</p></li>
<li><p><strong>rd</strong> (<a class="reference internal" href="#treecorr.NNCorrelation" title="treecorr.NNCorrelation"><em>NNCorrelation</em></a>) – The cross-correlation of the randoms with data (RD), if
desired. (default: None, which means use rd=dr)</p></li>
<li><p><strong>m2_uform</strong> (<em>str</em>) – Which form to use for the aperture mass.  (default: ‘Crittenden’;
this value can also be given in the constructor in the config dict.)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><p>Tuple containing</p>
<blockquote>
<div><ul class="simple">
<li><p>nsq = array of <span class="math notranslate nohighlight">\(\langle N_{ap}^2 \rangle(R)\)</span></p></li>
<li><p>varnsq = array of variance estimates of this value</p></li>
</ul>
</div></blockquote>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="treecorr.NNCorrelation.calculateXi">
<span class="sig-name descname"><span class="pre">calculateXi</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/treecorr/nncorrelation.html#NNCorrelation.calculateXi"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#treecorr.NNCorrelation.calculateXi" title="Permalink to this definition"></a></dt>
<dd><p>Calculate the correlation function given another correlation function of random
points using the same mask, and possibly cross correlations of the data and random.</p>
<p>The rr value is the <a class="reference internal" href="#treecorr.NNCorrelation" title="treecorr.NNCorrelation"><code class="xref any py py-class docutils literal notranslate"><span class="pre">NNCorrelation</span></code></a> function for random points.
For a signal that involves a cross correlations, there should be two random
cross-correlations: data-random and random-data, given as dr and rd.</p>
<ul class="simple">
<li><p>If dr is None, the simple correlation function <span class="math notranslate nohighlight">\(\xi = (DD/RR - 1)\)</span> is used.</p></li>
<li><p>if dr is given and rd is None, then <span class="math notranslate nohighlight">\(\xi = (DD - 2DR + RR)/RR\)</span> is used.</p></li>
<li><p>If dr and rd are both given, then <span class="math notranslate nohighlight">\(\xi = (DD - DR - RD + RR)/RR\)</span> is used.</p></li>
</ul>
<p>where DD is the data NN correlation function, which is the current object.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The default method for estimating the variance is ‘shot’, which only includes the
shot noise propagated into the final correlation.  This does not include sample
variance, so it is always an underestimate of the actual variance.  To get better
estimates, you need to set <code class="docutils literal notranslate"><span class="pre">var_method</span></code> to something else and use patches in the
input catalog(s).  cf. <a class="reference internal" href="cov.html#covariance-estimates"><span class="std std-ref">Covariance Estimates</span></a>.</p>
</div>
<p>After calling this method, you can use the <a class="reference internal" href="correlation2.html#treecorr.Corr2.estimate_cov" title="treecorr.Corr2.estimate_cov"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">Corr2.estimate_cov</span></code></a> method or use this
correlation object in the <a class="reference internal" href="correlation2.html#treecorr.estimate_multi_cov" title="treecorr.estimate_multi_cov"><code class="xref any py py-func docutils literal notranslate"><span class="pre">estimate_multi_cov</span></code></a> function.  Also, the calculated xi and
varxi returned from this function will be available as attributes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rr</strong> (<a class="reference internal" href="#treecorr.NNCorrelation" title="treecorr.NNCorrelation"><em>NNCorrelation</em></a>) – The auto-correlation of the random field (RR)</p></li>
<li><p><strong>dr</strong> (<a class="reference internal" href="#treecorr.NNCorrelation" title="treecorr.NNCorrelation"><em>NNCorrelation</em></a>) – The cross-correlation of the data with randoms (DR), if
desired, in which case the Landy-Szalay estimator will be
calculated.  (default: None)</p></li>
<li><p><strong>rd</strong> (<a class="reference internal" href="#treecorr.NNCorrelation" title="treecorr.NNCorrelation"><em>NNCorrelation</em></a>) – The cross-correlation of the randoms with data (RD), if
desired. (default: None, which means use rd=dr)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>xi = array of <span class="math notranslate nohighlight">\(\xi(r)\)</span></p></li>
<li><p>varxi = an estimate of the variance of <span class="math notranslate nohighlight">\(\xi(r)\)</span></p></li>
</ul>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Tuple containing</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="treecorr.NNCorrelation.copy">
<span class="sig-name descname"><span class="pre">copy</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/treecorr/nncorrelation.html#NNCorrelation.copy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#treecorr.NNCorrelation.copy" title="Permalink to this definition"></a></dt>
<dd><p>Make a copy</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="treecorr.NNCorrelation.finalize">
<span class="sig-name descname"><span class="pre">finalize</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/treecorr/nncorrelation.html#NNCorrelation.finalize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#treecorr.NNCorrelation.finalize" title="Permalink to this definition"></a></dt>
<dd><p>Finalize the calculation of the correlation function.</p>
<p>The <a class="reference internal" href="#treecorr.NNCorrelation.process_auto" title="treecorr.NNCorrelation.process_auto"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">process_auto</span></code></a> and <a class="reference internal" href="correlation2.html#treecorr.Corr2.process_cross" title="treecorr.Corr2.process_cross"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">Corr2.process_cross</span></code></a> commands accumulate values in each bin,
so they can be called multiple times if appropriate.  Afterwards, this command
finishes the calculation of meanr, meanlogr by dividing by the total weight.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="treecorr.NNCorrelation.from_file">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_name</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rng</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/treecorr/nncorrelation.html#NNCorrelation.from_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#treecorr.NNCorrelation.from_file" title="Permalink to this definition"></a></dt>
<dd><p>Create an NNCorrelation instance from an output file.</p>
<p>This should be a file that was written by TreeCorr.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_name</strong> (<em>str</em>) – The name of the file to read in.</p></li>
<li><p><strong>file_type</strong> (<em>str</em>) – The type of file (‘ASCII’, ‘FITS’, or ‘HDF’).  (default: determine
the type automatically from the extension of file_name.)</p></li>
<li><p><strong>logger</strong> (<em>Logger</em>) – If desired, a logger object to use for logging. (default: None)</p></li>
<li><p><strong>rng</strong> (<em>RandomState</em>) – If desired, a numpy.random.RandomState instance to use for bootstrap
random number generation. (default: None)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>An NNCorrelation object, constructed from the information in the file.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="treecorr.NNCorrelation.getStat">
<span class="sig-name descname"><span class="pre">getStat</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/treecorr/nncorrelation.html#NNCorrelation.getStat"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#treecorr.NNCorrelation.getStat" title="Permalink to this definition"></a></dt>
<dd><p>The standard statistic for the current correlation object as a 1-d array.</p>
<p>This raises a RuntimeError if calculateXi has not been run yet.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="treecorr.NNCorrelation.getWeight">
<span class="sig-name descname"><span class="pre">getWeight</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/treecorr/nncorrelation.html#NNCorrelation.getWeight"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#treecorr.NNCorrelation.getWeight" title="Permalink to this definition"></a></dt>
<dd><p>The weight array for the current correlation object as a 1-d array.</p>
<p>This is the weight array corresponding to <a class="reference internal" href="#treecorr.NNCorrelation.getStat" title="treecorr.NNCorrelation.getStat"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">getStat</span></code></a>.  In this case, it is the denominator
RR from the calculation done by calculateXi().</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="treecorr.NNCorrelation.process_auto">
<span class="sig-name descname"><span class="pre">process_auto</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cat</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_threads</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/treecorr/nncorrelation.html#NNCorrelation.process_auto"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#treecorr.NNCorrelation.process_auto" title="Permalink to this definition"></a></dt>
<dd><p>Process a single catalog, accumulating the auto-correlation.</p>
<p>This accumulates the auto-correlation for the given catalog.  After
calling this function as often as desired, the <a class="reference internal" href="#treecorr.NNCorrelation.finalize" title="treecorr.NNCorrelation.finalize"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">finalize</span></code></a> command will
finish the calculation of meanr, meanlogr.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cat</strong> (<a class="reference internal" href="catalog.html#treecorr.Catalog" title="treecorr.Catalog"><em>Catalog</em></a>) – The catalog to process</p></li>
<li><p><strong>metric</strong> (<em>str</em>) – Which metric to use.  See <a class="reference internal" href="metric.html#metrics"><span class="std std-ref">Metrics</span></a> for details.
(default: ‘Euclidean’; this value can also be given in the
constructor in the config dict.)</p></li>
<li><p><strong>num_threads</strong> (<em>int</em>) – How many OpenMP threads to use during the calculation.
(default: use the number of cpu cores; this value can also be given
in the constructor in the config dict.)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="treecorr.NNCorrelation.process_cross">
<span class="sig-name descname"><span class="pre">process_cross</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cat1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cat2</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_threads</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/treecorr/nncorrelation.html#NNCorrelation.process_cross"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#treecorr.NNCorrelation.process_cross" title="Permalink to this definition"></a></dt>
<dd><p>Process a single pair of catalogs, accumulating the cross-correlation.</p>
<p>This accumulates the cross-correlation for the given catalogs.  After
calling this function as often as desired, the <a class="reference internal" href="#treecorr.NNCorrelation.finalize" title="treecorr.NNCorrelation.finalize"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">finalize</span></code></a> command will
finish the calculation of meanr, meanlogr.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cat1</strong> (<a class="reference internal" href="catalog.html#treecorr.Catalog" title="treecorr.Catalog"><em>Catalog</em></a>) – The first catalog to process</p></li>
<li><p><strong>cat2</strong> (<a class="reference internal" href="catalog.html#treecorr.Catalog" title="treecorr.Catalog"><em>Catalog</em></a>) – The second catalog to process</p></li>
<li><p><strong>metric</strong> (<em>str</em>) – Which metric to use.  See <a class="reference internal" href="metric.html#metrics"><span class="std std-ref">Metrics</span></a> for details.
(default: ‘Euclidean’; this value can also be given in the
constructor in the config dict.)</p></li>
<li><p><strong>num_threads</strong> (<em>int</em>) – How many OpenMP threads to use during the calculation.
(default: use the number of cpu cores; this value can also be given
in the constructor in the config dict.)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="treecorr.NNCorrelation.read">
<span class="sig-name descname"><span class="pre">read</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_name</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/treecorr/nncorrelation.html#NNCorrelation.read"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#treecorr.NNCorrelation.read" title="Permalink to this definition"></a></dt>
<dd><p>Read in values from a file.</p>
<p>This should be a file that was written by TreeCorr, preferably a FITS or HDF5 file, so
there is no loss of information.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The <a class="reference internal" href="#treecorr.NNCorrelation" title="treecorr.NNCorrelation"><code class="xref any py py-class docutils literal notranslate"><span class="pre">NNCorrelation</span></code></a> object should be constructed with the same configuration
parameters as the one being read.  e.g. the same min_sep, max_sep, etc.  This is not
checked by the read function.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_name</strong> (<em>str</em>) – The name of the file to read in.</p></li>
<li><p><strong>file_type</strong> (<em>str</em>) – The type of file (‘ASCII’ or ‘FITS’).  (default: determine the type
automatically from the extension of file_name.)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="treecorr.NNCorrelation.write">
<span class="sig-name descname"><span class="pre">write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_name</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">precision</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">write_patch_results</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">write_cov</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/treecorr/nncorrelation.html#NNCorrelation.write"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#treecorr.NNCorrelation.write" title="Permalink to this definition"></a></dt>
<dd><p>Write the correlation function to the file, file_name.</p>
<p>rr is the <a class="reference internal" href="#treecorr.NNCorrelation" title="treecorr.NNCorrelation"><code class="xref any py py-class docutils literal notranslate"><span class="pre">NNCorrelation</span></code></a> function for random points.
If dr is None, the simple correlation function <span class="math notranslate nohighlight">\(\xi = (DD - RR)/RR\)</span> is used.
if dr is given and rd is None, then <span class="math notranslate nohighlight">\(\xi = (DD - 2DR + RR)/RR\)</span> is used.
If dr and rd are both given, then <span class="math notranslate nohighlight">\(\xi = (DD - DR - RD + RR)/RR\)</span> is used.</p>
<p>Normally, at least rr should be provided, but if this is also None, then only the
basic accumulated number of pairs are output (along with the separation columns).</p>
<p>The output file will include the following columns:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Column</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>r_nom</p></td>
<td><p>The nominal center of the bin in r</p></td>
</tr>
<tr class="row-odd"><td><p>meanr</p></td>
<td><p>The mean value <span class="math notranslate nohighlight">\(\langle r\rangle\)</span> of pairs that fell
into each bin</p></td>
</tr>
<tr class="row-even"><td><p>meanlogr</p></td>
<td><p>The mean value <span class="math notranslate nohighlight">\(\langle \log(r)\rangle\)</span> of pairs that
fell into each bin</p></td>
</tr>
<tr class="row-odd"><td><p>xi</p></td>
<td><p>The estimator <span class="math notranslate nohighlight">\(\xi\)</span> (if rr is given, or calculateXi
has been called)</p></td>
</tr>
<tr class="row-even"><td><p>sigma_xi</p></td>
<td><p>The sqrt of the variance estimate of xi (if rr is given
or calculateXi has been called)</p></td>
</tr>
<tr class="row-odd"><td><p>DD</p></td>
<td><p>The total weight of pairs in each bin.</p></td>
</tr>
<tr class="row-even"><td><p>RR</p></td>
<td><p>The total weight of RR pairs in each bin (if rr is given)</p></td>
</tr>
<tr class="row-odd"><td><p>DR</p></td>
<td><p>The total weight of DR pairs in each bin (if dr is given)</p></td>
</tr>
<tr class="row-even"><td><p>RD</p></td>
<td><p>The total weight of RD pairs in each bin (if rd is given)</p></td>
</tr>
<tr class="row-odd"><td><p>npairs</p></td>
<td><p>The total number of pairs in each bin</p></td>
</tr>
</tbody>
</table>
<p>If <code class="docutils literal notranslate"><span class="pre">sep_units</span></code> was given at construction, then the distances will all be in these units.
Otherwise, they will be in either the same units as x,y,z (for flat or 3d coordinates) or
radians (for spherical coordinates).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_name</strong> (<em>str</em>) – The name of the file to write to.</p></li>
<li><p><strong>rr</strong> (<a class="reference internal" href="#treecorr.NNCorrelation" title="treecorr.NNCorrelation"><em>NNCorrelation</em></a>) – The auto-correlation of the random field (RR)</p></li>
<li><p><strong>dr</strong> (<a class="reference internal" href="#treecorr.NNCorrelation" title="treecorr.NNCorrelation"><em>NNCorrelation</em></a>) – The cross-correlation of the data with randoms (DR), if
desired. (default: None)</p></li>
<li><p><strong>rd</strong> (<a class="reference internal" href="#treecorr.NNCorrelation" title="treecorr.NNCorrelation"><em>NNCorrelation</em></a>) – The cross-correlation of the randoms with data (RD), if
desired. (default: None, which means use rd=dr)</p></li>
<li><p><strong>file_type</strong> (<em>str</em>) – The type of file to write (‘ASCII’ or ‘FITS’).
(default: determine the type automatically from the extension
of file_name.)</p></li>
<li><p><strong>precision</strong> (<em>int</em>) – For ASCII output catalogs, the desired precision. (default: 4;
this value can also be given in the constructor in the config
dict.)</p></li>
<li><p><strong>write_patch_results</strong> (<em>bool</em>) – Whether to write the patch-based results as well.
(default: False)</p></li>
<li><p><strong>write_cov</strong> (<em>bool</em>) – Whether to write the covariance matrix as well. (default: False)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="correlation2.html" class="btn btn-neutral float-left" title="Two-point Correlation Functions" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="nk.html" class="btn btn-neutral float-right" title="NKCorrelation: Count-scalar correlations" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2019, Mike Jarvis.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>