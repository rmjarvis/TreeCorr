

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Configuration Parameters &mdash; TreeCorr 4.1.1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Getting Started Guide" href="guide.html" />
    <link rel="prev" title="Using configuration files" href="scripts.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> TreeCorr
          

          
          </a>

          
            
            
              <div class="version">
                4.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="catalog.html">Input Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="correlation2.html">Two-point Correlation Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="correlation3.html">Three-point Correlation Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="metric.html">Metrics</a></li>
<li class="toctree-l1"><a class="reference internal" href="binning.html">Binning</a></li>
<li class="toctree-l1"><a class="reference internal" href="patches.html">Patches</a></li>
<li class="toctree-l1"><a class="reference internal" href="cov.html">Covariance Estimates</a></li>
<li class="toctree-l1"><a class="reference internal" href="field.html">Fields</a></li>
<li class="toctree-l1"><a class="reference internal" href="scripts.html">Using configuration files</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Configuration Parameters</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#parameters-about-the-input-file-s">Parameters about the input file(s)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#notes-about-the-above-parameters">Notes about the above parameters</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#parameters-about-the-binned-correlation-function-to-be-calculated">Parameters about the binned correlation function to be calculated</a></li>
<li class="toctree-l2"><a class="reference internal" href="#parameters-about-the-output-file-s">Parameters about the output file(s)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#derived-output-quantities">Derived output quantities</a></li>
<li class="toctree-l2"><a class="reference internal" href="#miscellaneous-parameters">Miscellaneous parameters</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="guide.html">Getting Started Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="changes.html">Changes from version 4.0 to 4.1</a></li>
<li class="toctree-l1"><a class="reference internal" href="changes.html#changes-from-version-4-1-0-to-4-1-1">Changes from version 4.1.0 to 4.1.1</a></li>
<li class="toctree-l1"><a class="reference internal" href="history.html">Previous History</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">TreeCorr</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Configuration Parameters</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/params.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="configuration-parameters">
<h1>Configuration Parameters<a class="headerlink" href="#configuration-parameters" title="Permalink to this headline">¶</a></h1>
<p>This section describes the various configuration parameters for controlling
what the <a class="reference internal" href="scripts.html#treecorr.corr2" title="treecorr.corr2"><code class="xref any py py-func docutils literal notranslate"><span class="pre">corr2</span></code></a> and <a class="reference internal" href="scripts.html#treecorr.corr3" title="treecorr.corr3"><code class="xref any py py-func docutils literal notranslate"><span class="pre">corr3</span></code></a> scripts (or functions) do:</p>
<div class="section" id="parameters-about-the-input-file-s">
<h2>Parameters about the input file(s)<a class="headerlink" href="#parameters-about-the-input-file-s" title="Permalink to this headline">¶</a></h2>
<dl class="field-list">
<dt class="field-odd">file_name</dt>
<dd class="field-odd"><p>(str or list)
The file(s) with the data to be correlated.</p>
<p>For an auto-correlation, like cosmic shear, this will be the only file
name you need to specify.  This parameter is always required, and
depending on what kind of correlation you are doing, you may need to
specify others below.</p>
<p>Normally, there would only be a single file name here, but sometimes
the galaxy data comes in multiple files.  To treat them all as though
they were a single large catalog, you may specify a list of file names
here:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">file_name</span> <span class="p">:</span> <span class="p">[</span> <span class="n">file1</span><span class="o">.</span><span class="n">dat</span><span class="p">,</span> <span class="n">file2</span><span class="o">.</span><span class="n">dat</span><span class="p">,</span> <span class="n">file3</span><span class="o">.</span><span class="n">dat</span> <span class="p">]</span>
</pre></div>
</div>
<p>If you are specifying this on the command line, you’ll need to put
quotes around the names, or it won’t be parsed correctly:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">file_name</span><span class="o">=</span><span class="s2">&quot;[file1.dat,file2.dat,file3.dat]&quot;</span>
</pre></div>
</div>
</dd>
<dt class="field-even">file_name2</dt>
<dd class="field-even"><p>(str or list)
The file(s) to use for the second field for a cross-correlation.</p>
<p>If you want to cross-correlate one file (or set of files) with another, then
<code class="docutils literal notranslate"><span class="pre">file_name2</span></code> is used to specify the second thing being correlated.  e.g.
for galaxy-galaxy lensing, <code class="docutils literal notranslate"><span class="pre">file_name</span></code> should be the catalog of lenses, and
<code class="docutils literal notranslate"><span class="pre">file_name2</span></code> should be the catalog of source shear values.</p>
</dd>
<dt class="field-odd">file_name3</dt>
<dd class="field-odd"><p>(str or list)
The file(s) to use for the third field for a three-point cross-correlation.</p>
</dd>
<dt class="field-even">rand_file_name</dt>
<dd class="field-even"><p>(str or list)
If necessary, a list of random files with the same masking as the <code class="docutils literal notranslate"><span class="pre">file_name</span></code> catalog.</p>
</dd>
<dt class="field-odd">rand_file_name2</dt>
<dd class="field-odd"><p>(str or list)
If necessary, a list of random files with the same masking as the <code class="docutils literal notranslate"><span class="pre">file_name2</span></code> catalog.</p>
</dd>
<dt class="field-even">rand_file_name3</dt>
<dd class="field-even"><p>(str or list)
If necessary, a list of random files with the same masking as the <code class="docutils literal notranslate"><span class="pre">file_name3</span></code> catalog.</p>
<p>When doing NN and NNN correlations, you need to account for masks and variable
depth by providing a file or list of files that correspond to a uniform-
density field as observed with the same masking and other observational
details.  For cross-correlations, you need to provide both of the above
values to separately calibrate the first and second fields.</p>
<p><code class="docutils literal notranslate"><span class="pre">rand_file_name</span></code> may also be used for NG and NK correlations, but it is not
required in those cases.</p>
</dd>
<dt class="field-odd">file_list</dt>
<dd class="field-odd"><p>(str) A text file with file names in lieu of <code class="docutils literal notranslate"><span class="pre">file_name</span></code>.</p>
</dd>
<dt class="field-even">file_list2</dt>
<dd class="field-even"><p>(str) A text file with file names in lieu of <code class="docutils literal notranslate"><span class="pre">file_name2</span></code>.</p>
</dd>
<dt class="field-odd">file_list3</dt>
<dd class="field-odd"><p>(str) A text file with file names in lieu of <code class="docutils literal notranslate"><span class="pre">file_name3</span></code>.</p>
</dd>
<dt class="field-even">rand_file_list</dt>
<dd class="field-even"><p>(str) A text file with file names in lieu of <code class="docutils literal notranslate"><span class="pre">rand_file_name</span></code>.</p>
</dd>
<dt class="field-odd">rand_file_list2</dt>
<dd class="field-odd"><p>(str) A text file with file names in lieu of <code class="docutils literal notranslate"><span class="pre">rand_file_name2</span></code>.</p>
</dd>
<dt class="field-even">rand_file_list3</dt>
<dd class="field-even"><p>(str) A text file with file names in lieu of <code class="docutils literal notranslate"><span class="pre">rand_file_name3</span></code>.</p>
<p>If you have a list of file names, it may be cumbersome to list them all
in the <code class="docutils literal notranslate"><span class="pre">file_name</span></code> (etc) parameter.  It may be easier to do something like
<code class="docutils literal notranslate"><span class="pre">ls</span> <span class="pre">*.cat</span> <span class="pre">&gt;</span> <span class="pre">catlist</span></code> and then use <code class="docutils literal notranslate"><span class="pre">file_list=catlist</span></code> as the list of
file names to use.  Of course, it is an error to specify both <code class="docutils literal notranslate"><span class="pre">file_list</span></code>
and <code class="docutils literal notranslate"><span class="pre">file_name</span></code> (or any of the other corresponding pairs).</p>
</dd>
<dt class="field-odd">file_type</dt>
<dd class="field-odd"><p>(ASCII or FITS) The file type of the input files.</p>
</dd>
<dt class="field-even">delimiter</dt>
<dd class="field-even"><p>(str, default = ‘0’) The delimeter between input values in an ASCII catalog.</p>
</dd>
<dt class="field-odd">comment_marker</dt>
<dd class="field-odd"><p>(str, default = ‘#’) The first (non-whitespace) character of comment lines in an input ASCII catalog.</p>
<p>The default file type is normally ASCII.  However, if the file name
includes “.fit” in it, then a fits binary table is assumed.
You can override this behavior using <code class="docutils literal notranslate"><span class="pre">file_type</span></code>.</p>
<p>Furthermore, you may specify a delimiter for ASCII catalogs if desired.
e.g. delimiter=’,’ for a comma-separated value file.  Similarly,
comment lines usually begin with ‘#’, but you may specify something
different if necessary.</p>
</dd>
<dt class="field-even">hdu</dt>
<dd class="field-even"><p>(int, default=1) The HDU to use for a binary fits table.</p>
<p>Normally if you are using a fits file, the binary fits table is
taken from the first extension, HDU 1.  If you want to read from a
different HDU, you can specify which one to use here.</p>
</dd>
<dt class="field-odd">first_row</dt>
<dd class="field-odd"><p>(int, default=1)</p>
</dd>
<dt class="field-even">last_row</dt>
<dd class="field-even"><p>(int, default=-1)</p>
</dd>
<dt class="field-odd">every_nth</dt>
<dd class="field-odd"><p>(int, default=1)</p>
<p>You can optionally not use all the rows in the input file.
You may specify <code class="docutils literal notranslate"><span class="pre">first_row</span></code>, <code class="docutils literal notranslate"><span class="pre">last_row</span></code>, or both to limit the rows being used.
The rows are numbered starting with 1.  If <code class="docutils literal notranslate"><span class="pre">last_row</span></code> is not positive, it
means to use to the end of the file.  If <code class="docutils literal notranslate"><span class="pre">every_nth</span></code> is set, it will skip
rows, selecting only 1 out of every n rows.</p>
</dd>
<dt class="field-even">x_col</dt>
<dd class="field-even"><p>(int/str) Which column to use for x.</p>
</dd>
<dt class="field-odd">y_col</dt>
<dd class="field-odd"><p>(int/str) Which column to use for y.</p>
</dd>
<dt class="field-even">ra_col</dt>
<dd class="field-even"><p>(int/str) Which column to use for ra.</p>
</dd>
<dt class="field-odd">dec_col</dt>
<dd class="field-odd"><p>(int/str) Which column to use for dec.</p>
<p>For the positions of the objects, you can specify either x,y values, which
imply a flat-sky approximation has already been performed (or ignored),
or ra,dec values, which are of course positions on the curved sky.</p>
<p>For ASCII files, the columns are specified by number, starting with 1 being
the first column (not 0!).
For FITS files, the columns are specified by name, not number.</p>
</dd>
<dt class="field-even">x_units</dt>
<dd class="field-even"><p>(str, default=None) The units of x values.</p>
</dd>
<dt class="field-odd">y_units</dt>
<dd class="field-odd"><p>(str, default=None) The units of y values.</p>
</dd>
<dt class="field-even">ra_units</dt>
<dd class="field-even"><p>(str) The units of ra values.</p>
</dd>
<dt class="field-odd">dec_units</dt>
<dd class="field-odd"><p>(str) The units of dec values.</p>
<p>All distances on the sky include a “units” parameter to specify what in
units the values are specified.  Options for units are radians, hours,
degrees, arcmin, arcsec.  For ra, dec the units field is required.
But for x,y, you can ignore all the unit issues, in which case the
output distances will be in the same units as the input positions.</p>
</dd>
<dt class="field-even">r_col</dt>
<dd class="field-even"><p>(int/str) Which column to use for r.</p>
<p>When using spherical coordinates, ra,dec, you can optionally provide a
distance to the object.  In this case, the calculation will be done in
three dimensional distances rather than angular distances.  The distances
between objects will be the 3-D Euclidean distance, so you should define
your r values appropriately, given whatever cosmology you are assuming.</p>
<p><code class="docutils literal notranslate"><span class="pre">r_col</span></code> is invalid in conjunction with <code class="docutils literal notranslate"><span class="pre">x_col</span></code>, <code class="docutils literal notranslate"><span class="pre">y_col</span></code>.</p>
</dd>
<dt class="field-odd">z_col</dt>
<dd class="field-odd"><p>(int/str) Which column to use for z.</p>
<p>Rather than specifying 3-D coordinates as (ra, dec, r), you may instead
specify them as (x, y, z).</p>
<p><code class="docutils literal notranslate"><span class="pre">z_col</span></code> is invalid in conjunction with <code class="docutils literal notranslate"><span class="pre">ra_col</span></code>, <code class="docutils literal notranslate"><span class="pre">dec_col</span></code>.</p>
</dd>
<dt class="field-even">g1_col</dt>
<dd class="field-even"><p>(int/str) Which column to use for g1.</p>
</dd>
<dt class="field-odd">g2_col</dt>
<dd class="field-odd"><p>(int/str) Which column to use for g2.</p>
<p>If you are doing one of the shear correlation functions (i.e. NG, KG, GG),
then you need to specify the shear estimates of the corresponding galaxies.
The g1,g2 values are taken to be reduced shear values.  They should be
unbiases estimators of g1,g2, so they are allowed to exceed <span class="math notranslate nohighlight">\(|g| = 1\)</span>.
(This is required for some methods to produce unbiased estimates.</p>
</dd>
<dt class="field-even">k_col</dt>
<dd class="field-even"><p>(int/str) Which column to use for kappa.</p>
<p>If you are doing one of the kappa correlation functions (i.e. NK, KG, KK),
then you need to specify the column to use for kappa.  While kappa is
nominally the lensing convergence, it could really be any scalar quantity,
like temperature, size, etc.</p>
</dd>
<dt class="field-odd">patch_col</dt>
<dd class="field-odd"><p>(int/str) Which column to use for patch.</p>
<p>Use precalculated patch numbers to split the catalog into patches.</p>
</dd>
<dt class="field-even">w_col</dt>
<dd class="field-even"><p>(int/str) Which column to use for the weight (if any).</p>
</dd>
<dt class="field-odd">wpos_col</dt>
<dd class="field-odd"><p>(int/str) Which column to use for the position weight (if any).</p>
<p>The weight column is optional. If omitted, all weights are taken to be 1.</p>
</dd>
<dt class="field-even">flag_col</dt>
<dd class="field-even"><p>(int/str) Which column to use for the weight (if any).</p>
</dd>
<dt class="field-odd">ignore_flag</dt>
<dd class="field-odd"><p>(int) What flag(s) should be ignored.</p>
</dd>
<dt class="field-even">ok_flag</dt>
<dd class="field-even"><p>(int) What flag(s) are ok to use.</p>
<p>The code can be set to ignore objects with a particular flag value if desired.
Some codes output a flag along with the shear value.  Typically any flag != 0
should be ignored, but you can optionally have the code ignore only particular
flags, treating the flag value as a bit mask.  If <code class="docutils literal notranslate"><span class="pre">ignore_flag</span></code> is set to
something, then objects with <code class="docutils literal notranslate"><span class="pre">(flag</span> <span class="pre">&amp;</span> <span class="pre">ignore_flag</span> <span class="pre">!=</span> <span class="pre">0)</span></code> will be ignored.
If <code class="docutils literal notranslate"><span class="pre">ok_flag</span></code> is set, then objects with <code class="docutils literal notranslate"><span class="pre">(flag</span> <span class="pre">&amp;</span> <span class="pre">~ok_flag</span> <span class="pre">!=</span> <span class="pre">0)</span></code> will be ignored.
The default is equivalent to <code class="docutils literal notranslate"><span class="pre">ok_flag</span> <span class="pre">=</span> <span class="pre">0</span></code>, which ignores any flag != 0.</p>
</dd>
<dt class="field-odd">x_hdu</dt>
<dd class="field-odd"><p>(int) Which HDU to use for the <code class="docutils literal notranslate"><span class="pre">x_col</span></code>.</p>
</dd>
<dt class="field-even">y_hdu</dt>
<dd class="field-even"><p>(int) Which HDU to use for the <code class="docutils literal notranslate"><span class="pre">y_col</span></code>.</p>
</dd>
<dt class="field-odd">z_hdu</dt>
<dd class="field-odd"><p>(int) Which HDU to use for the <code class="docutils literal notranslate"><span class="pre">z_col</span></code>.</p>
</dd>
<dt class="field-even">ra_hdu</dt>
<dd class="field-even"><p>(int) Which HDU to use for the <code class="docutils literal notranslate"><span class="pre">ra_col</span></code>.</p>
</dd>
<dt class="field-odd">dec_hdu</dt>
<dd class="field-odd"><p>(int) Which HDU to use for the <code class="docutils literal notranslate"><span class="pre">dec_col</span></code>.</p>
</dd>
<dt class="field-even">r_hdu</dt>
<dd class="field-even"><p>(int) Which HDU to use for the <code class="docutils literal notranslate"><span class="pre">r_col</span></code>.</p>
</dd>
<dt class="field-odd">g1_hdu</dt>
<dd class="field-odd"><p>(int) Which HDU to use for the <code class="docutils literal notranslate"><span class="pre">g1_col</span></code>.</p>
</dd>
<dt class="field-even">g2_hdu</dt>
<dd class="field-even"><p>(int) Which HDU to use for the <code class="docutils literal notranslate"><span class="pre">g2_col</span></code>.</p>
</dd>
<dt class="field-odd">k_hdu</dt>
<dd class="field-odd"><p>(int) Which HDU to use for the <code class="docutils literal notranslate"><span class="pre">k_col</span></code>.</p>
</dd>
<dt class="field-even">patch_hdu</dt>
<dd class="field-even"><p>(int) Which HDU to use for the <code class="docutils literal notranslate"><span class="pre">patch_col</span></code>.</p>
</dd>
<dt class="field-odd">w_hdu</dt>
<dd class="field-odd"><p>(int) Which HDU to use for the <code class="docutils literal notranslate"><span class="pre">w_col</span></code>.</p>
</dd>
<dt class="field-even">wpos_hdu</dt>
<dd class="field-even"><p>(int) Which HDU to use for the <code class="docutils literal notranslate"><span class="pre">wpos_col</span></code>.</p>
</dd>
<dt class="field-odd">flag_hdu</dt>
<dd class="field-odd"><p>(int) Which HDU to use for the <code class="docutils literal notranslate"><span class="pre">flag_col</span></code>.</p>
<p>If you want to use an HDU other than the first one, normally you would
specify which fits extension to use with the <code class="docutils literal notranslate"><span class="pre">hdu</span></code> parameter.  However, if
different columns need to come from different HDUs, then you can override
the default (given by <code class="docutils literal notranslate"><span class="pre">hdu</span></code> or 1 if there is no <code class="docutils literal notranslate"><span class="pre">hdu</span></code> parameter) for each
column separately.</p>
</dd>
<dt class="field-even">allow_xyz</dt>
<dd class="field-even"><p>(bool, default=False)</p>
<p>Whether to allow x,y,z columns in conjunction with ra, dec.</p>
</dd>
<dt class="field-odd">flip_g1</dt>
<dd class="field-odd"><p>(bool, default=False) Whether to flip the sign of g1.</p>
</dd>
<dt class="field-even">flip_g2</dt>
<dd class="field-even"><p>(bool, default=False) Whether to flip the sign of g2.</p>
<p>Sometimes there are issues with the sign conventions of gamma.  If you
need to flip the sign of g1 or g2, you may do that with <code class="docutils literal notranslate"><span class="pre">flip_g1</span></code> or <code class="docutils literal notranslate"><span class="pre">flip_g2</span></code>
(or both).</p>
</dd>
</dl>
<div class="section" id="notes-about-the-above-parameters">
<h3>Notes about the above parameters<a class="headerlink" href="#notes-about-the-above-parameters" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>If you are cross-correlating two files with different formats, you may
set any of the above items from <code class="docutils literal notranslate"><span class="pre">file_type</span></code> to <code class="docutils literal notranslate"><span class="pre">flip_g2</span></code> as a two element
list (i.e. two values separated by a space).  In this case, the first
item refers to the file(s) in <code class="docutils literal notranslate"><span class="pre">file_name</span></code>, and the second item refers
to the file(s) in files_name2.</p></li>
<li><p>You may not mix (x,y) columns with (ra,dec) columns, since its meaning
would be ambiguous.</p></li>
<li><p>If you don’t need a particular column for one of the files, you may
use 0 to indicate not to read that column.  This is true both for
ASCII and FITS input catalogs.</p></li>
<li><p>Also, if the given column only applies to one of the two input files
(e.g. k_col for an n-kappa cross-correlation) then you may specify just
the column name or number for the file to which it does apply.</p></li>
</ul>
</div>
</div>
<div class="section" id="parameters-about-the-binned-correlation-function-to-be-calculated">
<h2>Parameters about the binned correlation function to be calculated<a class="headerlink" href="#parameters-about-the-binned-correlation-function-to-be-calculated" title="Permalink to this headline">¶</a></h2>
<dl class="field-list">
<dt class="field-odd">bin_type</dt>
<dd class="field-odd"><p>(str, default=’Log’) Which type of binning should be used.</p>
<p>See <a class="reference internal" href="metric.html#metrics"><span class="std std-ref">Metrics</span></a> for details.</p>
</dd>
<dt class="field-even">min_sep</dt>
<dd class="field-even"><p>(float) The minimum separation to include in the output.</p>
</dd>
<dt class="field-odd">max_sep</dt>
<dd class="field-odd"><p>(float) The maximum separation to include in the output.</p>
</dd>
<dt class="field-even">nbins</dt>
<dd class="field-even"><p>(int) The number of output bins to use.</p>
</dd>
<dt class="field-odd">bin_size</dt>
<dd class="field-odd"><p>(float) The size of the output bins in log(sep).</p>
<p>The bins for the histogram may be defined by setting any 3 of the above 4
parameters.  The fourth one is automatically calculated from the values
of the other three.</p>
<p>See <a class="reference internal" href="binning.html#binning"><span class="std std-ref">Binning</span></a> for details about how these parameters are used for the
different choice of <code class="docutils literal notranslate"><span class="pre">bin_type</span></code>.</p>
</dd>
<dt class="field-even">sep_units</dt>
<dd class="field-even"><p>(str, default=None) The units to use for <code class="docutils literal notranslate"><span class="pre">min_sep</span></code> and <code class="docutils literal notranslate"><span class="pre">max_sep</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">sep_units</span></code> is also the units of R in the output file.  For ra, dec values,
you should always specify <code class="docutils literal notranslate"><span class="pre">sep_units</span></code> explicitly to indicate what angular
units you want to use for the separations.  But if your catalogs use x,y,
or if you specify 3-d correlations with r, then the output separations are
in the same units as the input positions.</p>
<p>See <a class="reference internal" href="binning.html#sep-units"><span class="std std-ref">sep_units</span></a> for more discussion about this parameter.</p>
</dd>
<dt class="field-odd">bin_slop</dt>
<dd class="field-odd"><p>(float, default=1) The fraction of a bin width by which it is ok to let the pairs miss the correct bin.</p>
<p>The code normally determines when to stop traversing the tree when all of the
distance pairs for the two nodes have a spread in distance that is less than the
bin size.  i.e. the error in the tree traversal is less than the uncertainty
induced by just binning the results into a histogram.  This factor can be changed
by the parameter <code class="docutils literal notranslate"><span class="pre">bin_slop</span></code>.  It is probably best to keep it at 1, but if you want to
make the code more conservative, you can decrease it, in which case the error
from using the tree nodes will be less than the error in the histogram binning.
(In practice, if you are going to do this, you are probably better off just
decreasing the <code class="docutils literal notranslate"><span class="pre">bin_size</span></code> instead and leaving <code class="docutils literal notranslate"><span class="pre">bin_slop=1</span></code>.)</p>
<p>See <a class="reference internal" href="binning.html#bin-slop"><span class="std std-ref">bin_slop</span></a> for more discussion about this parameter.</p>
</dd>
<dt class="field-even">brute</dt>
<dd class="field-even"><p>(bool/int, default=False) Whether to do the “brute force” algorithm, where the
tree traversal always goes to the leaf cells.</p>
<p>In addition to True or False, whose meanings are obvious, you may also set
<code class="docutils literal notranslate"><span class="pre">brute</span></code> to 1 or 2, which means to go to the leaves for cat1 or cat2, respectively,
but stop traversing the other catalog according to the normal <code class="docutils literal notranslate"><span class="pre">bin_slop</span></code> criterion.</p>
<p>See <a class="reference internal" href="binning.html#brute"><span class="std std-ref">brute</span></a> for more discussion about this parameter.</p>
</dd>
<dt class="field-odd">min_u</dt>
<dd class="field-odd"><p>(float) The minimum u=d3/d2 to include for three-point functions.</p>
</dd>
<dt class="field-even">max_u</dt>
<dd class="field-even"><p>(float) The maximum u=d3/d2 to include for three-point functions.</p>
</dd>
<dt class="field-odd">nubins</dt>
<dd class="field-odd"><p>(int) The number of output bins to use for u.</p>
</dd>
<dt class="field-even">ubin_size</dt>
<dd class="field-even"><p>(float) The size of the output bins for u.</p>
</dd>
<dt class="field-odd">min_v</dt>
<dd class="field-odd"><p>(float) The minimum positive v=(d1-d2)/d3 to include for three-point functions.</p>
</dd>
<dt class="field-even">max_v</dt>
<dd class="field-even"><p>(float) The maximum positive v=(d1-d2)/d3 to include for three-point functions.</p>
</dd>
<dt class="field-odd">nvbins</dt>
<dd class="field-odd"><p>(int) The number of output bins to use for positive v.
The total number of bins in the v direction will be twice this number.</p>
</dd>
<dt class="field-even">vbin_size</dt>
<dd class="field-even"><p>(float) The size of the output bins for v.</p>
</dd>
<dt class="field-odd">pairwise</dt>
<dd class="field-odd"><p>(bool, default=False) Whether to do a pair-wise cross-correlation.</p>
<p>A pair-wise correlation correlates objects on corresponding lines in the two catalogs,
rather than correlating all lines in one with all the lines in the other.
That is, the data from each row in the first catalog is correlated with the
corresponding row in the second catalog.  This only applies to cross-correlations.</p>
<p>An example of why this might be useful is to measure the tangent shear
of galaxies around the field center of the exposures in which they were
observed.  You can build a catalog of the field centers corresponding to
each galaxy in the catalog, then a pairwise correlation option will only
use the corresponding centers where the galaxy was observed, rather than
using all the field centers in the whole survey.</p>
<p>This is currently invalid for 3-point correlations.</p>
</dd>
<dt class="field-even">metric</dt>
<dd class="field-even"><p>(str, default=’Euclidean’) Which metric to use for distance measurements.</p>
<p>See <a class="reference internal" href="metric.html#metrics"><span class="std std-ref">Metrics</span></a> for details.</p>
</dd>
<dt class="field-odd">min_rpar</dt>
<dd class="field-odd"><p>(float) If the metric supports it, the minimum Rparallel to allow for pairs
to be included in the correlation function.</p>
</dd>
<dt class="field-even">max_rpar</dt>
<dd class="field-even"><p>(float) If the metric supports it, the maximum Rparallel to allow for pairs
to be included in the correlation function.</p>
</dd>
<dt class="field-odd">period</dt>
<dd class="field-odd"><p>(float) For the ‘Periodic’ metric, the period to use in all directions.</p>
</dd>
<dt class="field-even">xperiod</dt>
<dd class="field-even"><p>(float) For the ‘Periodic’ metric, the period to use in the x directions.</p>
</dd>
<dt class="field-odd">yperiod</dt>
<dd class="field-odd"><p>(float) For the ‘Periodic’ metric, the period to use in the y directions.</p>
</dd>
<dt class="field-even">zperiod</dt>
<dd class="field-even"><p>(float) For the ‘Periodic’ metric, the period to use in the z directions.</p>
</dd>
</dl>
</div>
<div class="section" id="parameters-about-the-output-file-s">
<h2>Parameters about the output file(s)<a class="headerlink" href="#parameters-about-the-output-file-s" title="Permalink to this headline">¶</a></h2>
<p>The kind of correlation function that the code will calculate is based on
which output file(s) you specify.  It will do the calculation(s) relevant for
each output file you set.  For each output file, the first line of the output
says what the columns are.  See the descriptions below for more information
about the output columns.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The error estimates for all quantities only include the propagation
of the shot noise and shape noise through the calculation.  It
does not include sample variance, which is almost always important.
So the error values should always be treated as an underestimate
of the true error bars.</p>
</div>
<dl class="field-list">
<dt class="field-odd">nn_file_name</dt>
<dd class="field-odd"><p>(str) The output filename for count-count correlation function.</p>
<p>This is the normal density two-point correlation function.</p>
<p>The output columns are:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">R_nom</span></code> = The center of the bin</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">meanR</span></code> = The mean separation of the points that went into the bin.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">meanlogR</span></code> = The mean log(R) of the points that went into the bin.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">xi</span></code> = The correlation function.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sigma_xi</span></code> = The 1-sigma error bar for xi.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DD</span></code>, <code class="docutils literal notranslate"><span class="pre">RR</span></code> = The raw numbers of pairs for the data and randoms</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DR</span></code> (if <code class="docutils literal notranslate"><span class="pre">nn_statistic=compensated</span></code>) = The cross terms between data and random.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">RD</span></code> (if <code class="docutils literal notranslate"><span class="pre">nn_statistic=compensated</span></code> cross-correlation) = The cross term between random and data, which for a cross-correlation is not equivalent to <code class="docutils literal notranslate"><span class="pre">DR</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">nn_statistic</dt>
<dd class="field-even"><p>(str, default=’compensated’) Which statistic to use for xi as the estimator of the NN correlation function.</p>
<p>Options are (D = data catalog, R = random catalog)</p>
<ul class="simple">
<li><p>‘compensated’ is the now-normal Landy-Szalay statistic:  xi = (DD-2DR+RR)/RR, or for cross-correlations, xi = (DD-DR-RD+RR)/RR</p></li>
<li><p>‘simple’ is the older version: xi = (DD/RR - 1)</p></li>
</ul>
</dd>
<dt class="field-odd">ng_file_name</dt>
<dd class="field-odd"><p>(str) The output filename for count-shear correlation function.</p>
<p>This is the count-shear correlation function, often called galaxy-galaxy
lensing.</p>
<p>The output columns are:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">R_nom</span></code> = The center of the bin</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">meanR</span></code> = The mean separation of the points that went into the bin.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">meanlogR</span></code> = The mean log(R) of the points that went into the bin.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">gamT</span></code> = The mean tangential shear with respect to the point in question.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">gamX</span></code> = The shear component 45 degrees from the tangential direction.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sigma</span></code> = The 1-sigma error bar for <code class="docutils literal notranslate"><span class="pre">gamT</span></code> and <code class="docutils literal notranslate"><span class="pre">gamX</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">weight</span></code> = The total weight of the pairs in each bin.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">npairs</span></code> = The total number of pairs in each bin.</p></li>
</ul>
</dd>
<dt class="field-even">ng_statistic</dt>
<dd class="field-even"><p>(str, default=’compensated’ if <code class="docutils literal notranslate"><span class="pre">rand_files</span></code> is given, otherwise ‘simple’) Which statistic to use for the mean shear as the estimator of the NG correlation function.</p>
<p>Options are:</p>
<ul>
<li><p>‘compensated’ is simiar to the Landy-Szalay statistic:
Define:</p>
<ul class="simple">
<li><p>NG = Sum(gamma around data points)</p></li>
<li><p>RG = Sum(gamma around random points), scaled to be equivalent in effective number as the number of pairs in NG.</p></li>
<li><p>npairs = number of pairs in NG.</p></li>
</ul>
<p>Then this statistic is gamT = (NG-RG)/npairs</p>
</li>
<li><p>‘simple’ is the normal version: gamT = NG/npairs</p></li>
</ul>
</dd>
<dt class="field-odd">gg_file_name</dt>
<dd class="field-odd"><p>(str) The output filename for shear-shear correlation function.</p>
<p>This is the shear-shear correlation function, used for cosmic shear.</p>
<p>The output columns are:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">R_nom</span></code> = The center of the bin</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">meanR</span></code> = The mean separation of the points that went into the bin.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">meanlogR</span></code> = The mean log(R) of the points that went into the bin.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">xip</span></code> = &lt;g1 g1 + g2 g2&gt; where g1 and g2 are measured with respect to the line joining the two galaxies.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">xim</span></code> = &lt;g1 g1 - g2 g2&gt; where g1 and g2 are measured with respect to the line joining the two galaxies.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">xip_im</span></code> = &lt;g2 g1 - g1 g2&gt;.</p>
<blockquote>
<div><p>In the formulation of xi+ using complex numbers, this is the imaginary component.
It should normally be consistent with zero, especially for an
auto-correlation, because if every pair were counted twice to
get each galaxy in both positions, then this would come out
exactly zero.</p>
</div></blockquote>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">xim_im</span></code> = &lt;g2 g1 + g1 g2&gt;.</p>
<blockquote>
<div><p>In the formulation of xi- using complex
numbers, this is the imaginary component.
It should be consistent with zero for parity invariant shear
fields.</p>
</div></blockquote>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">sigma_xi</span></code> = The 1-sigma error bar for xi+ and xi-.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">weight</span></code> = The total weight of the pairs in each bin.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">npairs</span></code> = The total number of pairs in each bin.</p></li>
</ul>
</dd>
<dt class="field-even">nk_file_name</dt>
<dd class="field-even"><p>(str) The output filename for count-kappa correlation function.</p>
<p>This is nominally the kappa version of the ne calculation.  However, k is
really any scalar quantity, so it can be used for temperature, size, etc.</p>
<p>The output columns are:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">R_nom</span></code> = The center of the bin</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">meanR</span></code> = The mean separation of the points that went into the bin.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">meanlogR</span></code> = The mean log(R) of the points that went into the bin.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">kappa</span></code> = The mean kappa this distance from the foreground points.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sigma</span></code> = The 1-sigma error bar for &lt;kappa&gt;.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">weight</span></code> = The total weight of the pairs in each bin.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">npairs</span></code> = The total number of pairs in each bin.</p></li>
</ul>
</dd>
<dt class="field-odd">nk_statistic</dt>
<dd class="field-odd"><p>(str, default=’compensated’ if <code class="docutils literal notranslate"><span class="pre">rand_files</span></code> is given, otherwise ‘simple’) Which statistic to use for the mean shear as the estimator of the NK correlation function.</p>
<p>Options are:</p>
<ul>
<li><p>‘compensated’ is simiar to the Landy-Szalay statistic:
Define:</p>
<ul class="simple">
<li><p>NK = Sum(kappa around data points)</p></li>
<li><p>RK = Sum(kappa around random points), scaled to be equivalent in effective number as the number of pairs in NK.</p></li>
<li><p>npairs = number of pairs in NK.</p></li>
</ul>
<p>Then this statistic is <code class="docutils literal notranslate"><span class="pre">&lt;kappa&gt;</span></code> = (NK-RK)/npairs</p>
</li>
<li><p>‘simple’ is the normal version: <code class="docutils literal notranslate"><span class="pre">&lt;kappa&gt;</span></code> = NK/npairs</p></li>
</ul>
</dd>
<dt class="field-even">kk_file_name</dt>
<dd class="field-even"><p>(str) The output filename for kappa-kappa correlation function.</p>
<p>This is the kappa-kappa correlation function.  However, k is really any
scalar quantity, so it can be used for temperature, size, etc.</p>
<p>The output columns are:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">R_nom</span></code> = The center of the bin</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">meanR</span></code> = The mean separation of the points that went into the bin.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">meanlogR</span></code> = The mean log(R) of the points that went into the bin.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">xi</span></code> = The correlation function &lt;k k&gt;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sigma_xi</span></code> = The 1-sigma error bar for xi.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">weight</span></code> = The total weight of the pairs in each bin.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">npairs</span></code> = The total number of pairs in each bin.</p></li>
</ul>
</dd>
<dt class="field-odd">kg_file_name</dt>
<dd class="field-odd"><p>(str) The output filename for kappa-shear correlation function.</p>
<p>This is the kappa-shear correlation function.  Essentially, this is just
galaxy-galaxy lensing, weighting the tangential shears by the foreground
kappa values.</p>
<p>The output columns are:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">R_nom</span></code> = The center of the bin</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">meanR</span></code> = The mean separation of the points that went into the bin.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">meanlogR</span></code> = The mean log(R) of the points that went into the bin.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">kgamT</span></code> = The kappa-weighted mean tangential shear.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">kgamX</span></code> = The kappa-weighted shear component 45 degrees from the tangential direction.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sigma</span></code> = The 1-sigma error bar for <code class="docutils literal notranslate"><span class="pre">kgamT</span></code> and <code class="docutils literal notranslate"><span class="pre">kgamX</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">weight</span></code> = The total weight of the pairs in each bin.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">npairs</span></code> = The total number of pairs in each bin.</p></li>
</ul>
</dd>
<dt class="field-even">nnn_file_name</dt>
<dd class="field-even"><p>(str) The output filename for count-count-count correlation function.</p>
<p>This is three-point correlation function of number counts.</p>
<p>The output columns are:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">R_nom</span></code> = The center of the bin in R = d2 where d1 &gt; d2 &gt; d3</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">u_nom</span></code> = The center of the bin in u = d3/d2</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">v_nom</span></code> = The center of the bin in v = +-(d1-d2)/d3</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">meand1</span></code> = The mean value of d1 for the triangles in each bin</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">meanlogd1</span></code> = The mean value of log(d1) for the triangles in each bin</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">meand2</span></code> = The mean value of d2 for the triangles in each bin</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">meanlogd2</span></code> = The mean value of log(d2) for the triangles in each bin</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">meand3</span></code> = The mean value of d3 for the triangles in each bin</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">meanlogd3</span></code> = The mean value of log(d3) for the triangles in each bin</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">zeta</span></code> = The correlation function.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sigma_zeta</span></code> = The 1-sigma error bar for zeta.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DDD</span></code>, <code class="docutils literal notranslate"><span class="pre">RRR</span></code> = The raw numbers of triangles for the data and randoms</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DDR</span></code>, <code class="docutils literal notranslate"><span class="pre">DRD</span></code>, <code class="docutils literal notranslate"><span class="pre">RDD</span></code>, <code class="docutils literal notranslate"><span class="pre">DRR</span></code>, <code class="docutils literal notranslate"><span class="pre">RDR</span></code>, <code class="docutils literal notranslate"><span class="pre">RRD</span></code> (if <code class="docutils literal notranslate"><span class="pre">nn_statistic=compensated</span></code>) = The cross terms between data and random.</p></li>
</ul>
</dd>
<dt class="field-odd">nnn_statistic</dt>
<dd class="field-odd"><p>(str, default=’compensated’) Which statistic to use for xi as the estimator of the NNN correlation function.</p>
<p>Options are:</p>
<ul class="simple">
<li><p>‘compensated’ is the Szapudi &amp; Szalay (1998) estimator:
zeta = (DDD-DDR-DRD-RDD+DRR+RDR+RRD-RRR)/RRR</p></li>
<li><p>‘simple’ is the older version: zeta = (DDD/RRR - 1), although this is not actually
an estimator of zeta.  Rather, it estimates zeta(d1,d2,d3) + xi(d1) + xi(d2) + xi(d3).</p></li>
</ul>
</dd>
<dt class="field-even">ggg_file_name</dt>
<dd class="field-even"><p>(str) The output filename for shear-shear-shear correlation function.</p>
<p>This is the shear three-point correlation function.  We use the “natural components”
as suggested by Schenider &amp; Lombardi (2003): Gamma_0, Gamma_1, Gamma_2, Gamma_3.
All are complex-valued functions of (d1,d2,d3).  The offer several options for the projection
direction.  We choose to use the triangle centroid as the reference point.</p>
<p>The output columns are:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">R_nom</span></code> = The center of the bin in R = d2 where d1 &gt; d2 &gt; d3</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">u_nom</span></code> = The center of the bin in u = d3/d2</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">v_nom</span></code> = The center of the bin in v = +-(d1-d2)/d3</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">meand1</span></code> = The mean value of d1 for the triangles in each bin</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">meanlogd1</span></code> = The mean value of log(d1) for the triangles in each bin</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">meand2</span></code> = The mean value of d2 for the triangles in each bin</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">meanlogd2</span></code> = The mean value of log(d2) for the triangles in each bin</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">meand3</span></code> = The mean value of d3 for the triangles in each bin</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">meanlogd3</span></code> = The mean value of log(d3) for the triangles in each bin</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">gam0r</span></code> = The real part of Gamma_0.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">gam0i</span></code> = The imag part of Gamma_0.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">gam1r</span></code> = The real part of Gamma_1.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">gam1i</span></code> = The imag part of Gamma_1.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">gam2r</span></code> = The real part of Gamma_2.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">gam2i</span></code> = The imag part of Gamma_2.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">gam3r</span></code> = The real part of Gamma_3.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">gam3i</span></code> = The imag part of Gamma_3.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sigma_gam</span></code> = The 1-sigma error bar for the Gamma values.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">weight</span></code> = The total weight of the triangles in each bin.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ntri</span></code> = The total number of triangles in each bin.</p></li>
</ul>
</dd>
<dt class="field-odd">kkk_file_name</dt>
<dd class="field-odd"><p>(str) The output filename for kappa-kappa-kappa correlation function.</p>
<p>This is the three-point correlation function of a scalar field.</p>
<p>The output columns are:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">R_nom</span></code> = The center of the bin in R = d2 where d1 &gt; d2 &gt; d3</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">u_nom</span></code> = The center of the bin in u = d3/d2</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">v_nom</span></code> = The center of the bin in v = +-(d1-d2)/d3</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">meand1</span></code> = The mean value of d1 for the triangles in each bin</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">meanlogd1</span></code> = The mean value of log(d1) for the triangles in each bin</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">meand2</span></code> = The mean value of d2 for the triangles in each bin</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">meanlogd2</span></code> = The mean value of log(d2) for the triangles in each bin</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">meand3</span></code> = The mean value of d3 for the triangles in each bin</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">meanlogd3</span></code> = The mean value of log(d3) for the triangles in each bin</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">zeta</span></code> = The correlation function.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sigma_zeta</span></code> = The 1-sigma error bar for zeta.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">weight</span></code> = The total weight of the triangles in each bin.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ntri</span></code> = The total number of triangles in each bin.</p></li>
</ul>
</dd>
<dt class="field-even">precision</dt>
<dd class="field-even"><p>(int) The number of digits after the decimal in the output.</p>
<p>All output quantities are printed using scientific notation, so this sets
the number of digits output for all values.  The default precision is 4.
So if you want more (or less) precise values, you can set this to something
else.</p>
</dd>
</dl>
</div>
<div class="section" id="derived-output-quantities">
<h2>Derived output quantities<a class="headerlink" href="#derived-output-quantities" title="Permalink to this headline">¶</a></h2>
<p>The rest of these output files are calculated based on one or more correlation
functions.</p>
<dl class="field-list">
<dt class="field-odd">m2_file_name</dt>
<dd class="field-odd"><p>(str) The output filename for the aperture mass statistics.</p>
<p>This file outputs the aperture mass variance and related quantities,
derived from the shear-shear correlation function.</p>
<p>The output columns are:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">R</span></code> = The radius of the aperture.  (Spaced the same way as  <code class="docutils literal notranslate"><span class="pre">R_nom</span></code> is in the correlation function output files.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Mapsq</span></code> = The E-mode aperture mass variance for each radius R.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Mxsq</span></code> = The B-mode aperture mass variance.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">MMxa</span></code>, <code class="docutils literal notranslate"><span class="pre">MMxb</span></code> = Two semi-independent estimate for the E-B cross term.  (Both should be consistent with zero for parity invariance shear fields.)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sig_map</span></code> = The 1-sigma error bar for these values.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Gamsq</span></code> = The variance of the top-hat weighted mean shear in apertures of the given radius R.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sig_gam</span></code> = The 1-sigma error bar for <code class="docutils literal notranslate"><span class="pre">Gamsq</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">m2_uform</dt>
<dd class="field-even"><p>(str, default=’Crittenden’) The function form of the aperture</p>
<p>The form of the aperture mass statistic popularized by Schneider is</p>
<blockquote>
<div><p>U = 9/Pi (1-r^2) (1/3-r^2)
Q = 6/Pi r^2 (1-r^2)</p>
</div></blockquote>
<p>However, in many ways the form used by Crittenden:</p>
<blockquote>
<div><p>U = 1/2Pi (1-r^2) exp(-r^2/2)
Q = 1/4Pi r^2 exp(-r^2/2)</p>
</div></blockquote>
<p>is easier to use.  For example, the skewness of the aperture mass
has a closed form solution in terms of the 3-point function for the
Crittenden form, but no such formula is known for the Schneider form.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">m2_uform</span></code> parameter allows you to switch between the two forms,
at least for 2-point applications.  (You will get an error if you
try to use ‘Schneider’ with the m3 output.)</p>
</dd>
<dt class="field-odd">nm_file_name</dt>
<dd class="field-odd"><p>(str) The output filename for &lt;N Map&gt; and related values.</p>
<p>This file outputs the correlation of the aperture mass with the
aperture-smoothed density field, derived from the count-shear correlation
function.</p>
<p>The output columns are:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">R</span></code> = The radius of the aperture.  (Spaced the same way as  <code class="docutils literal notranslate"><span class="pre">R_nom</span></code> is in the correlation function output files.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">NMap</span></code> = The E-mode aperture mass correlated with the density smoothed with the same aperture profile as the aperture mass statistic uses.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">NMx</span></code> = The corresponding B-mode statistic.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sig_nmap</span></code> = The 1-sigma error bar for these values.</p></li>
</ul>
</dd>
<dt class="field-even">norm_file_name</dt>
<dd class="field-even"><p>(str) The output filename for &lt;Nap Map&gt;^2/&lt;Nap^2&gt;&lt;Map^2&gt; and related values.</p>
<p>This file outputs the &lt;Nap Map&gt; values normalized by &lt;Nap^2&gt;&lt;Map^2&gt;.  This
provides an estimate of the correlation coefficient, r.</p>
<p>The output columns are:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">R</span></code> = The radius of the aperture.  (Spaced the same way as  <code class="docutils literal notranslate"><span class="pre">R_nom</span></code> is in the correlation function output files.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">NMap</span></code> = The E-mode aperture mass correlated with the density smoothed with the same aperture profile as the aperture mass statistic uses.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">NMx</span></code> = The corresponding B-mode statistic.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sig_nmap</span></code> = The 1-sigma error bar for these values.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Napsq</span></code> = The variance of the aperture-weighted galaxy density.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sig_napsq</span></code> = The 1-sigma error bar for &lt;Nap^2&gt;.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Mapsq</span></code> = The aperture mass variance.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sig_mapsq</span></code> = The 1-sigma error bar for &lt;Map^2&gt;.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">NMap_norm</span></code> = &lt;Nap Map&gt;^2 / (&lt;Nap^2&gt; &lt;Map^2&gt;)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sig_norm</span></code> = The 1-sigma error bar for this value.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Nsq_Mapsq</span></code> = &lt;Nap^2&gt; / &lt;Map^2&gt;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sig_nn_mm</span></code> = The 1-sigma error bar for this value.</p></li>
</ul>
</dd>
</dl>
</div>
<div class="section" id="miscellaneous-parameters">
<h2>Miscellaneous parameters<a class="headerlink" href="#miscellaneous-parameters" title="Permalink to this headline">¶</a></h2>
<dl class="field-list">
<dt class="field-odd">verbose</dt>
<dd class="field-odd"><p>(int, default=1) How verbose the code should be during processing.</p>
<ul class="simple">
<li><p>0 = no output unless there is an error</p></li>
<li><p>1 = output warnings</p></li>
<li><p>2 = output progress information</p></li>
<li><p>3 = output extra debugging lines</p></li>
</ul>
<p>This is overridden by the <code class="docutils literal notranslate"><span class="pre">-v</span></code> command line argument for the <a class="reference internal" href="scripts.html#treecorr.corr2" title="treecorr.corr2"><code class="xref any py py-func docutils literal notranslate"><span class="pre">corr2</span></code></a> executable.</p>
</dd>
<dt class="field-even">log_file</dt>
<dd class="field-even"><p>(str, default=None) Where to write the logging information.</p>
<p>The default is to write lines to the screen, but this option allows you to
write them to a file instead.  With the <a class="reference internal" href="scripts.html#treecorr.corr2" title="treecorr.corr2"><code class="xref any py py-func docutils literal notranslate"><span class="pre">corr2</span></code></a> executable, this can also be
specified with the <code class="docutils literal notranslate"><span class="pre">-l</span></code> command line argument.</p>
</dd>
<dt class="field-odd">output_dots</dt>
<dd class="field-odd"><p>(bool, default=(<code class="docutils literal notranslate"><span class="pre">verbose</span></code>&gt;=2)) Whether to output progress dots during the
calculation of the correlation function.</p>
</dd>
<dt class="field-even">split_method</dt>
<dd class="field-even"><p>(str, default=’mean’) Which method to use for splitting cells.</p>
<p>When building the tree, there are three obvious choices for how to split a set
of points into two chld cells.  The direction is always taken to be the
coordinate direction with the largest extent.  Then, in that direction,
you can split at the mean value, the median value, or the “middle” =
(xmin+xmax)/2.  To select among these, <code class="docutils literal notranslate"><span class="pre">split_method</span></code> may be given as
“mean”, “median”, or “middle” respectively.</p>
<p>In addition, sometimes it may be useful to inject some randomness into the
tree construction to study how much the results depend on the specific splitting
used.  For that purpose, there is also the option to set <code class="docutils literal notranslate"><span class="pre">split_method</span></code> = ‘random’,
which will choose a random point in the middle two quartiles of the range.</p>
</dd>
<dt class="field-odd">min_top</dt>
<dd class="field-odd"><p>(int, default=3) The minimum number of top layers to use when setting up the field.</p>
<p>The OpenMP parallelization happens over the top level cells, so setting this &gt; 0
ensures that there will be multiple jobs to be run in parallel.  For systems with
very many cores, it may be helpful to set this larger than the default value of 3.</p>
</dd>
<dt class="field-even">max_top</dt>
<dd class="field-even"><p>(int, default=10) The maximum number of top layers to use when setting up the field.</p>
<p>The top-level cells are the cells where each calculation job starts.  There will
typically be of order 2^max_top top-level cells.</p>
</dd>
<dt class="field-odd">num_threads</dt>
<dd class="field-odd"><p>(int, default=0) How many (OpenMP) threads should be used.</p>
<p>The default is to try to determine the number of cpu cores your system has
and use that many threads.</p>
</dd>
</dl>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="guide.html" class="btn btn-neutral float-right" title="Getting Started Guide" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="scripts.html" class="btn btn-neutral float-left" title="Using configuration files" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Mike Jarvis

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>